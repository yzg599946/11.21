"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_tools=require("../../tools");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var _default={name:"VxeTableFooter",props:{footerData:Array,tableColumn:Array,visibleColumn:Array,fixedColumn:Array,size:String,fixedType:String},render:function(d){var s=this.$parent,u=this.fixedType,e=this.fixedColumn,f=this.tableColumn,t=this.footerData,x=s.$listeners,l=s.footerRowClassName,p=s.footerCellClassName,r=s.tableWidth,o=s.scrollYWidth,n=s.scrollXHeight,i=s.scrollXLoad,c=s.scrollXStore,a=s.optimizeOpts,h=s.getColumnMapIndex,m=a.overflow;return u&&m?r=(f=e).reduce(function(e,t){return e+t.renderWidth},0):i&&(u&&(f=e),r=f.reduce(function(e,t){return e+t.renderWidth},0)),d("div",{class:["vxe-table--footer-wrapper",u?"fixed--".concat(u,"-wrapper"):"footer--wrapper"],style:{"margin-top":"".concat(-n-1,"px")},on:{scroll:this.scrollEvent}},[!u&&i?d("div",{class:["vxe-body--x-space"],style:{width:"".concat(s.tableWidth,"px")}}):null,d("table",{class:"vxe-table--footer",attrs:{cellspacing:0,cellpadding:0,border:0},style:{width:null===r?r:"".concat(r+o,"px"),"margin-left":u?null:"".concat(c.leftSpaceWidth,"px")}},[d("colgroup",f.map(function(e,t){return d("col",{attrs:{name:e.id,width:e.renderWidth}})}).concat([d("col",{attrs:{width:o}})])),d("tfoot",t.map(function(c,a){return d("tr",{class:["vxe-footer--row",l?_xeUtils.default.isFunction(l)?l({$rowIndex:a,fixed:u}):l:""]},f.map(function(t,l){var e,r=t.children&&t.children.length,o=u&&t.fixed!==u&&!r,n={},i=h(t);return x["header-cell-click"]&&(n.click=function(e){_tools.UtilTools.emitEvent(s,"header-cell-click",[{$table:s,$rowIndex:a,column:t,columnIndex:i,$columnIndex:l,fixed:u,cell:e.currentTarget},e])}),x["header-cell-dblclick"]&&(n.dblclick=function(e){_tools.UtilTools.emitEvent(s,"header-cell-dblclick",[{$table:s,$rowIndex:a,column:t,columnIndex:i,$columnIndex:l,fixed:u,cell:e.currentTarget},e])}),d("td",{class:["vxe-footer--column",t.id,(e={},_defineProperty(e,"col--".concat(t.headerAlign),t.headerAlign),_defineProperty(e,"fixed--hidden",o),_defineProperty(e,"filter--active",t.filters.some(function(e){return e.checked})),e),p?_xeUtils.default.isFunction(p)?p({$rowIndex:a,column:t,columnIndex:i,$columnIndex:l,fixed:u}):p:""],attrs:{"data-index":i},on:n,key:i},[d("div",{class:["vxe-cell"]},c["right"===u?c.length-f.length+i:i])])}).concat([d("td",{class:["col--gutter"],style:{width:"".concat(o,"px")}})]))}))])])},methods:{scrollEvent:function(e){var t=this.$parent,l=this.fixedType,r=t.$refs,o=t.scrollXLoad,n=t.triggerScrollXEvent,i=r.tableHeader,c=i?i.$el:null,a=r.tableBody.$el,d=r.tableFooter.$el.scrollLeft;c&&(c.scrollLeft=d),a&&(a.scrollLeft=d),o&&n(e),_tools.UtilTools.emitEvent(t,"scroll",[{type:"footer",fixed:l,scrollTop:a.scrollTop,scrollLeft:d,$table:t},e])}}};exports.default=_default;