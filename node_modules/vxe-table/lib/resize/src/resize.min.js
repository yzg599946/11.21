"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../conf"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var eventStore=[],defaultInterval=250,resizeTimeout=null;function eventListener(){clearTimeout(resizeTimeout),resizeTimeout=setTimeout(eventHandle,_conf.default.resizeInterval||defaultInterval)}function eventHandle(){eventStore.length&&(eventStore.forEach(function(e){var t=e.comp,r=e.target,n=e.cb,i=e.width,o=e.heighe,u=r.clientWidth,l=r.clientHeight,a=u&&i!==u,f=l&&o!==l;(a||f)&&(e.width=u,e.heighe=l,n.call(t,{type:"resize",target:r,rWidth:a,rHeight:f,currentTarget:r}))}),resizeTimeout=setTimeout(eventHandle,_conf.default.resizeInterval||defaultInterval))}var _default={on:function(t,r,e){eventStore.length||eventListener(),eventStore.some(function(e){return e.comp===t&&e.target===r})||eventStore.push({comp:t,target:r,cb:e,width:r.clientWidth,heighe:r.clientWidth})},off:function(t,r){_xeUtils.default.remove(eventStore,function(e){return e.comp===t&&e.target===r})}};exports.default=_default;