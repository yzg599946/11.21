{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\composite\\bdpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\composite\\bdpage.vue","mtime":1562564744966},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\yet\\\\project\\\\longhuiteng_management_system\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"vant/es/search/style\");\n\nvar _search = _interopRequireDefault(require(\"vant/es/search\"));\n\nrequire(\"vant/es/action-sheet/style\");\n\nvar _actionSheet = _interopRequireDefault(require(\"vant/es/action-sheet\"));\n\nrequire(\"vant/es/toast/style\");\n\nvar _toast = _interopRequireDefault(require(\"vant/es/toast\"));\n\nrequire(\"vant/es/icon/style\");\n\nvar _icon = _interopRequireDefault(require(\"vant/es/icon\"));\n\nrequire(\"vant/es/field/style\");\n\nvar _field = _interopRequireDefault(require(\"vant/es/field\"));\n\nrequire(\"vant/es/picker/style\");\n\nvar _picker = _interopRequireDefault(require(\"vant/es/picker\"));\n\nrequire(\"vant/es/datetime-picker/style\");\n\nvar _datetimePicker = _interopRequireDefault(require(\"vant/es/datetime-picker\"));\n\nrequire(\"vant/es/cell-group/style\");\n\nvar _cellGroup = _interopRequireDefault(require(\"vant/es/cell-group\"));\n\nrequire(\"vant/es/cell/style\");\n\nvar _cell = _interopRequireDefault(require(\"vant/es/cell\"));\n\nrequire(\"vant/es/nav-bar/style\");\n\nvar _navBar = _interopRequireDefault(require(\"vant/es/nav-bar\"));\n\nrequire(\"vant/es/popup/style\");\n\nvar _popup = _interopRequireDefault(require(\"vant/es/popup\"));\n\nrequire(\"vant/es/button/style\");\n\nvar _button = _interopRequireDefault(require(\"vant/es/button\"));\n\nrequire(\"vant/es/pagination/style\");\n\nvar _pagination = _interopRequireDefault(require(\"vant/es/pagination\"));\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _orderList = require(\"@/api/orderList\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n_vue.default.use(_pagination.default);\n\n_vue.default.use(_button.default);\n\n_vue.default.use(_popup.default);\n\n_vue.default.use(_navBar.default);\n\n_vue.default.use(_cell.default);\n\n_vue.default.use(_cellGroup.default);\n\n_vue.default.use(_datetimePicker.default);\n\n_vue.default.use(_picker.default);\n\n_vue.default.use(_field.default);\n\n_vue.default.use(_icon.default);\n\n_vue.default.use(_toast.default);\n\n_vue.default.use(_actionSheet.default);\n\n_vue.default.use(_search.default);\n\nvar _default = {\n  data: function data() {\n    return {\n      list: [],\n      formLabelWidth: \"120px\",\n      dialogTableVisible: false,\n      currentPage: 1,\n      //当前页\n      pagesizes: [50, 100, 200],\n      //单页最大显示条数\n      pagesize: 50,\n      //单页内条数\n      device: \"\",\n      mobileSearchShow: false,\n      mobileSearchButtonLoading: false,\n      listLoading: false,\n      pageJumpIndex: 1,\n      form: {\n        pageId: \"\",\n        salesman: \"\",\n        product: \"\",\n        price: \"\"\n      },\n      editDialogVisible: false,\n      salemanOptions: [],\n      productOptions: [],\n      tableMaxHeight: 0\n    };\n  },\n  created: function created() {\n    this.getOrderList();\n    this.device = this.$store.state.app.device;\n    this.getSalesman();\n    this.getProduct();\n    this.getHeight();\n  },\n  computed: {\n    deviceVal: function deviceVal() {\n      return this.$store.state.app.device;\n    }\n  },\n  watch: {\n    deviceVal: function deviceVal(newVal, oldVal) {\n      this.device = newVal;\n    }\n  },\n  methods: {\n    // 获取表格列表\n    getOrderList: function getOrderList() {\n      var _this = this;\n\n      var orderList = [];\n      this.listLoading = true;\n      (0, _orderList.getBaiduPage)({\n        page: this.currentPage,\n        rows: this.pagesize\n      }).then(function (res) {\n        var tableList = res.data.rows;\n        tableList.forEach(function (tableItem) {\n          var pageId = tableItem.pageId,\n              price = tableItem.price,\n              productId = tableItem.productId,\n              uid = tableItem.uid;\n          var orderItem = {\n            page: pageId,\n            account: uid,\n            product: productId,\n            price: price\n          };\n          orderList.push(orderItem);\n        });\n      });\n      setTimeout(function () {\n        _this.list = orderList;\n        _this.listLoading = false;\n      }, 500);\n    },\n    // 获取业务员列表\n    getSalesman: function getSalesman() {\n      var _this2 = this;\n\n      (0, _orderList.getSalesmanList)().then(function (res) {\n        var salesmanList = res.data;\n        salesmanList.forEach(function (salesmanItem) {\n          var salesmanObject = {\n            value: salesmanItem.id,\n            label: salesmanItem.name\n          };\n\n          _this2.salemanOptions.push(salesmanObject);\n        });\n      });\n    },\n    // 获取产品列表\n    getProduct: function getProduct() {\n      var _this3 = this;\n\n      (0, _orderList.getProductList)().then(function (res) {\n        var productList = res.data;\n        productList.forEach(function (productItem) {\n          var productObject = {\n            value: productItem.id,\n            label: productItem.name\n          };\n\n          _this3.productOptions.push(productObject);\n        });\n      });\n    },\n    // 表格高度自适应\n    getHeight: function getHeight() {\n      var otherHeight = this.device == \"desktop\" ? 250 : 200;\n      this.tableMaxHeight = window.innerHeight - otherHeight;\n    },\n    // 选择表格尺寸\n    handleSizeChange: function handleSizeChange(val) {\n      this.pagesize = val;\n      this.getOrderList();\n    },\n    //选择表格当前页数\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getOrderList();\n    },\n    //新增\n    handleAdd: function handleAdd() {\n      if (!this.editDialogVisible) {\n        this.editDialogVisible = true;\n      }\n    },\n    //新增验证\n    addPageVerify: function addPageVerify() {\n      var _this$form = this.form,\n          pageId = _this$form.pageId,\n          price = _this$form.price,\n          product = _this$form.product,\n          salesman = _this$form.salesman;\n\n      if (pageId == \"\") {\n        this.$message.error(\"请输入页面ID\");\n        return false;\n      }\n\n      if (salesman == \"\") {\n        this.$message.error(\"请选择业务员\");\n        return false;\n      }\n\n      if (product == \"\") {\n        this.$message.error(\"请选择产品\");\n        return false;\n      }\n\n      if (price == \"\") {\n        this.$message.error(\"请输入价格\");\n        return false;\n      }\n\n      return true;\n    },\n    //确认新增\n    handleEditConfirm: function handleEditConfirm() {\n      var _this4 = this;\n\n      if (!this.addPageVerify()) return;\n      var _this$form2 = this.form,\n          pageId = _this$form2.pageId,\n          price = _this$form2.price,\n          product = _this$form2.product,\n          salesman = _this$form2.salesman;\n      (0, _orderList.addBaiduPage)({\n        pageId: pageId,\n        uid: salesman,\n        productId: product,\n        price: price\n      }).then(function (res) {\n        if (res.status == 200) {\n          _this4.list = _this4.getOrderList();\n\n          _this4.$message({\n            message: \"新增成功\",\n            type: \"success\"\n          });\n        }\n      });\n\n      if (this.editDialogVisible) {\n        this.editDialogVisible = false;\n      }\n    },\n    //取消新增\n    handleEditCancel: function handleEditCancel() {\n      if (this.editDialogVisible) {\n        this.editDialogVisible = false;\n      }\n    },\n\n    /* 移动端事件 */\n    // 分页器\n    handlePageChange: function handlePageChange() {\n      var _this5 = this;\n\n      this.listLoading = true;\n      setTimeout(function () {\n        _this5.listLoading = false;\n      }, 600);\n    },\n    // 限制页面跳转输入框只能输入数字\n    jumpPageInput: function jumpPageInput() {\n      this.pageJumpIndex = this.pageJumpIndex.replace(/[^\\d]/g, \"\");\n    },\n    // 跳转指定页面\n    handleJumpPage: function handleJumpPage() {\n      var _this6 = this;\n\n      var jumpPage = parseInt(this.pageJumpIndex);\n      if (jumpPage == this.currentPage) return;\n\n      if (jumpPage > Math.ceil(this.list.length / this.pagesize)) {\n        jumpPage = Math.ceil(this.list.length / this.pagesize);\n      }\n\n      if (jumpPage < 1) {\n        jumpPage = 1;\n      }\n\n      this.listLoading = true;\n      setTimeout(function () {\n        _this6.pageJumpIndex = jumpPage;\n        _this6.currentPage = jumpPage;\n        _this6.listLoading = false;\n      }, 1000);\n    }\n  }\n};\nexports.default = _default;",null]}