{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\components\\channelTable\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\components\\channelTable\\index.vue","mtime":1561625436829},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\yet\\\\project\\\\longhuiteng_management_system\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\yet\\\\project\\\\longhuiteng_management_system\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/defineProperty\"));\n\nrequire(\"vant/es/search/style\");\n\nvar _search = _interopRequireDefault(require(\"vant/es/search\"));\n\nrequire(\"vant/es/action-sheet/style\");\n\nvar _actionSheet = _interopRequireDefault(require(\"vant/es/action-sheet\"));\n\nrequire(\"vant/es/toast/style\");\n\nvar _toast = _interopRequireDefault(require(\"vant/es/toast\"));\n\nrequire(\"vant/es/icon/style\");\n\nvar _icon = _interopRequireDefault(require(\"vant/es/icon\"));\n\nrequire(\"vant/es/field/style\");\n\nvar _field = _interopRequireDefault(require(\"vant/es/field\"));\n\nrequire(\"vant/es/picker/style\");\n\nvar _picker = _interopRequireDefault(require(\"vant/es/picker\"));\n\nrequire(\"vant/es/datetime-picker/style\");\n\nvar _datetimePicker = _interopRequireDefault(require(\"vant/es/datetime-picker\"));\n\nrequire(\"vant/es/cell-group/style\");\n\nvar _cellGroup = _interopRequireDefault(require(\"vant/es/cell-group\"));\n\nrequire(\"vant/es/cell/style\");\n\nvar _cell = _interopRequireDefault(require(\"vant/es/cell\"));\n\nrequire(\"vant/es/nav-bar/style\");\n\nvar _navBar = _interopRequireDefault(require(\"vant/es/nav-bar\"));\n\nrequire(\"vant/es/popup/style\");\n\nvar _popup = _interopRequireDefault(require(\"vant/es/popup\"));\n\nrequire(\"vant/es/button/style\");\n\nvar _button = _interopRequireDefault(require(\"vant/es/button\"));\n\nrequire(\"vant/es/pagination/style\");\n\nvar _pagination = _interopRequireDefault(require(\"vant/es/pagination\"));\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _orderList = require(\"@/api/orderList\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n_vue.default.use(_pagination.default);\n\n_vue.default.use(_button.default);\n\n_vue.default.use(_popup.default);\n\n_vue.default.use(_navBar.default);\n\n_vue.default.use(_cell.default);\n\n_vue.default.use(_cellGroup.default);\n\n_vue.default.use(_datetimePicker.default);\n\n_vue.default.use(_picker.default);\n\n_vue.default.use(_field.default);\n\n_vue.default.use(_icon.default);\n\n_vue.default.use(_toast.default);\n\n_vue.default.use(_actionSheet.default);\n\n_vue.default.use(_search.default);\n\nvar _default = {\n  name: \"channelTable\",\n  props: [\"tableList\"],\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      list: [],\n      pickerOptions: {\n        shortcuts: [{\n          text: \"最近一周\",\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }, {\n          text: \"最近一个月\",\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }, {\n          text: \"最近三个月\",\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }]\n      },\n      productOptions: [],\n      productColumns: [],\n      channelOptions: [],\n      channelColumns: []\n    }, (0, _defineProperty2.default)(_ref, \"channelColumns\", []), (0, _defineProperty2.default)(_ref, \"salemanOptions\", []), (0, _defineProperty2.default)(_ref, \"salesmanColumns\", []), (0, _defineProperty2.default)(_ref, \"gridData\", []), (0, _defineProperty2.default)(_ref, \"salemanValue\", \"\"), (0, _defineProperty2.default)(_ref, \"timeSelectValue\", \"\"), (0, _defineProperty2.default)(_ref, \"channelValue\", \"\"), (0, _defineProperty2.default)(_ref, \"productValue\", \"\"), (0, _defineProperty2.default)(_ref, \"formLabelWidth\", \"120px\"), (0, _defineProperty2.default)(_ref, \"dialogTableVisible\", false), (0, _defineProperty2.default)(_ref, \"channelTitle\", \"\"), (0, _defineProperty2.default)(_ref, \"currentPage\", 1), (0, _defineProperty2.default)(_ref, \"pagesizes\", [20, 40, 60, 80, 100]), (0, _defineProperty2.default)(_ref, \"pagesize\", 20), (0, _defineProperty2.default)(_ref, \"device\", \"\"), (0, _defineProperty2.default)(_ref, \"mobileSearchShow\", false), (0, _defineProperty2.default)(_ref, \"mobileDatePickerShow\", false), (0, _defineProperty2.default)(_ref, \"mobileSalesmanPickerShow\", false), (0, _defineProperty2.default)(_ref, \"mobileChannelPickerShow\", false), (0, _defineProperty2.default)(_ref, \"mobileProductPickerShow\", false), (0, _defineProperty2.default)(_ref, \"minDate\", new Date(1950, 10, 1)), (0, _defineProperty2.default)(_ref, \"maxDate\", new Date()), (0, _defineProperty2.default)(_ref, \"currentDate\", new Date()), (0, _defineProperty2.default)(_ref, \"minDateEnd\", new Date()), (0, _defineProperty2.default)(_ref, \"maxDateStart\", new Date()), (0, _defineProperty2.default)(_ref, \"datetimePickerType\", \"\"), (0, _defineProperty2.default)(_ref, \"timePickerStartValue\", \"请选择\"), (0, _defineProperty2.default)(_ref, \"timePickerEndValue\", \"请选择\"), (0, _defineProperty2.default)(_ref, \"salesmanMobileValue\", \"请选择\"), (0, _defineProperty2.default)(_ref, \"channelMobileValue\", \"请选择\"), (0, _defineProperty2.default)(_ref, \"productMobileValue\", \"请选择\"), (0, _defineProperty2.default)(_ref, \"mobileDetailShow\", false), (0, _defineProperty2.default)(_ref, \"salesPickerCurrentSelect\", 0), (0, _defineProperty2.default)(_ref, \"channelPickerCurrentSelect\", 0), (0, _defineProperty2.default)(_ref, \"productPickerCurrentSelect\", 0), (0, _defineProperty2.default)(_ref, \"salesmanSearchValue\", \"\"), (0, _defineProperty2.default)(_ref, \"channelSearchValue\", \"\"), (0, _defineProperty2.default)(_ref, \"productSearchValue\", \"\"), (0, _defineProperty2.default)(_ref, \"mobileSearchButtonLoading\", false), _ref;\n  },\n  created: function created() {\n    var _this = this;\n\n    this.list = this.tableList;\n    setTimeout(function () {\n      _this.listLoading = false;\n    }, 1000);\n    this.device = this.$store.state.app.device;\n    this.getSalesman();\n    this.getChannel();\n    this.getProduct();\n  },\n  computed: {\n    deviceVal: function deviceVal() {\n      return this.$store.state.app.device;\n    }\n  },\n  watch: {\n    deviceVal: function deviceVal(newVal, oldVal) {\n      this.device = newVal;\n    }\n  },\n  methods: {\n    // 获取业务员列表\n    getSalesman: function getSalesman() {\n      var _this2 = this;\n\n      (0, _orderList.getSalesmanList)().then(function (res) {\n        var salesmanList = res.data;\n        salesmanList.forEach(function (salesmanItem) {\n          var salesmanObject = {\n            value: salesmanItem.name,\n            label: salesmanItem.name\n          };\n\n          _this2.salemanOptions.push(salesmanObject);\n\n          _this2.salesmanColumns.push(salesmanItem.name);\n        });\n      });\n    },\n    // 获取渠道列表\n    getChannel: function getChannel() {\n      var _this3 = this;\n\n      (0, _orderList.getChannelList)().then(function (res) {\n        var channelList = res.data;\n        channelList.forEach(function (channelItem) {\n          var channelObject = {\n            value: channelItem.name,\n            label: channelItem.name\n          };\n\n          _this3.channelOptions.push(channelObject);\n\n          _this3.channelColumns.push(channelItem.name);\n        });\n      });\n    },\n    // 获取产品列表\n    getProduct: function getProduct() {\n      var _this4 = this;\n\n      (0, _orderList.getProductList)().then(function (res) {\n        var productList = res.data;\n        productList.forEach(function (productItem) {\n          var productObject = {\n            value: productItem.name,\n            label: productItem.name\n          };\n\n          _this4.productOptions.push(productObject);\n\n          _this4.productColumns.push(productItem.name);\n        });\n      });\n    },\n    handleSearch: function handleSearch() {},\n    handleTimeSlot: function handleTimeSlot(row, column, cell, event) {\n      var _this5 = this;\n\n      this.gridData = [];\n      this.channelTitle = row.channel;\n      (0, _orderList.getChannelTimeslotWatch)(this.channelTitle).then(function (res) {\n        var channelTimeDataList = res.data.rows;\n        channelTimeDataList.forEach(function (channelTimeDataItem) {\n          var timeCount = channelTimeDataItem.timeCount,\n              tNum = channelTimeDataItem.tNum;\n          var channelTimeObject = {\n            timeslot: timeCount,\n            orderCount: tNum\n          };\n\n          _this5.gridData.push(channelTimeObject);\n        });\n      });\n\n      if (this.device == \"mobile\") {\n        if (column.label == undefined) {\n          this.mobileDetailShow = true;\n        }\n      } else {\n        if (column.label == undefined) {\n          this.dialogTableVisible = true;\n        } else {}\n      }\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      var _this6 = this;\n\n      this.listLoading = true;\n      setTimeout(function () {\n        _this6.pagesize = val;\n        _this6.listLoading = false;\n      }, 500);\n    },\n    //选择表格当前页数\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this7 = this;\n\n      this.listLoading = true;\n      setTimeout(function () {\n        _this7.currentPage = val;\n        _this7.listLoading = false;\n      }, 500);\n    },\n\n    /* 移动端事件 */\n    //点击搜索\n    handleSearchMobile: function handleSearchMobile() {\n      if (!this.mobileSearchShow) {\n        this.mobileSearchShow = !this.mobileSearchShow;\n      }\n    },\n    //取消搜索\n    handleSearchMobileCancel: function handleSearchMobileCancel() {\n      if (this.mobileSearchShow) {\n        this.mobileSearchShow = !this.mobileSearchShow;\n      }\n    },\n    //清空所选\n    handleSearchMobileClearAll: function handleSearchMobileClearAll() {\n      this.timePickerStartValue == \"请选择\" ? \"\" : this.timePickerStartValue = \"请选择\", this.timePickerEndValue == \"请选择\" ? \"\" : this.timePickerEndValue = \"请选择\", this.salesmanMobileValue == \"请选择\" ? \"\" : this.salesmanMobileValue = \"请选择\", this.channelMobileValue == \"请选择\" ? \"\" : this.channelMobileValue = \"请选择\", this.productMobileValue == \"请选择\" ? \"\" : this.productMobileValue = \"请选择\";\n    },\n    //选择开始日期\n    handleChooseDateStartMobile: function handleChooseDateStartMobile() {\n      if (!this.mobileDatePickerShow) {\n        if (this.timePickerEndValue != \"请选择\") {\n          var maxDate_ = this.timePickerEndValue;\n          maxDate_ = maxDate_.replace(/-/g, \"/\");\n          var date = new Date(maxDate_);\n          this.maxDateStart = date;\n        }\n\n        this.datetimePickerType = \"start\";\n        this.mobileDatePickerShow = !this.mobileDatePickerShow;\n      }\n    },\n    //选择结束日期\n    handleChooseDateEndMobile: function handleChooseDateEndMobile() {\n      if (!this.mobileDatePickerShow) {\n        if (this.timePickerStartValue != \"请选择\") {\n          var maxDate_ = this.timePickerStartValue;\n          maxDate_ = maxDate_.replace(/-/g, \"/\");\n          var date = new Date(maxDate_);\n          this.minDateEnd = date;\n        }\n\n        this.datetimePickerType = \"end\";\n        this.mobileDatePickerShow = !this.mobileDatePickerShow;\n      }\n    },\n    datetimePickerChange: function datetimePickerChange(e) {},\n    //确认选择日期\n    datetimePickerConfirm: function datetimePickerConfirm(res) {\n      if (this.mobileDatePickerShow) {\n        if (this.datetimePickerType == \"start\") {\n          this.timePickerStartValue = res.toLocaleDateString();\n        } else {\n          this.timePickerEndValue = res.toLocaleDateString();\n        }\n\n        this.mobileDatePickerShow = !this.mobileDatePickerShow;\n      }\n    },\n    //取消选择日期\n    datetimePickerCancel: function datetimePickerCancel() {\n      this.mobileDatePickerShow = !this.mobileDatePickerShow;\n    },\n    //选择业务员\n    handleChooseSalesman: function handleChooseSalesman() {\n      if (!this.mobileSalesmanPickerShow) {\n        this.mobileSalesmanPickerShow = !this.mobileSalesmanPickerShow;\n      }\n    },\n    //选择渠道\n    handleChooseChannel: function handleChooseChannel() {\n      if (!this.mobileChannelPickerShow) {\n        this.mobileChannelPickerShow = !this.mobileChannelPickerShow;\n      }\n    },\n    //选择产品\n    handleChooseProduct: function handleChooseProduct() {\n      if (!this.mobileProductPickerShow) {\n        this.mobileProductPickerShow = !this.mobileProductPickerShow;\n      }\n    },\n    //确认选择业务员\n    salesmanPickerConfirm: function salesmanPickerConfirm(res) {\n      if (this.mobileSalesmanPickerShow) {\n        if (this.salesmanMobileValue == \"请选择\") {\n          this.salesmanMobileValue = res;\n        } else {\n          if (this.salesmanMobileValue.indexOf(\",\") != -1) {\n            var salesmanArr = new Array();\n            salesmanArr = this.salesmanMobileValue.split(\",\");\n\n            if (salesmanArr.indexOf(res) == -1) {\n              this.salesmanMobileValue = this.salesmanMobileValue + \",\" + res;\n            } else {\n              (0, _toast.default)(\"请勿重复选择\");\n            }\n          } else {\n            if (this.salesmanMobileValue != res) {\n              this.salesmanMobileValue = this.salesmanMobileValue + \",\" + res;\n            } else {\n              (0, _toast.default)(\"请勿重复选择\");\n            }\n          }\n        }\n\n        this.mobileSalesmanPickerShow = !this.mobileSalesmanPickerShow;\n      }\n    },\n    //确认选择渠道\n    channelPickerConfirm: function channelPickerConfirm(res) {\n      if (this.mobileChannelPickerShow) {\n        this.channelMobileValue = res;\n        this.mobileChannelPickerShow = !this.mobileChannelPickerShow;\n      }\n    },\n    //确认选择产品\n    productPickerConfirm: function productPickerConfirm(res) {\n      if (this.mobileProductPickerShow) {\n        this.productMobileValue = res;\n        this.mobileProductPickerShow = !this.mobileProductPickerShow;\n      }\n    },\n    //业务员快捷搜索\n    handleSearchSalesmanItem: function handleSearchSalesmanItem() {\n      this.salesPickerCurrentSelect = this.salesmanColumns.indexOf(this.salesmanSearchValue);\n    },\n    //渠道快捷搜索\n    handleSearchChannelItem: function handleSearchChannelItem() {\n      this.channelPickerCurrentSelect = this.channelColumns.indexOf(this.channelSearchValue);\n    },\n    //产品快捷搜索\n    handleSearchProductItem: function handleSearchProductItem() {\n      this.productPickerCurrentSelect = this.productColumns.indexOf(this.productSearchValue);\n    },\n    //开始搜索\n    handleMobileSearch: function handleMobileSearch() {\n      var _this8 = this;\n\n      this.mobileSearchButtonLoading = true;\n      setTimeout(function () {\n        _this8.mobileSearchButtonLoading = false;\n        _this8.mobileSearchShow = false;\n      }, 2000);\n      console.log(\"开始时间:\" + this.timePickerStartValue);\n      console.log(\"结束时间:\" + this.timePickerEndValue);\n      console.log(\"业务员:\" + this.salesmanMobileValue);\n      console.log(\"渠道项目:\" + this.channelMobileValue);\n      console.log(\"产品:\" + this.productMobileValue);\n    },\n    //分页器改变\n    handlePageChange: function handlePageChange() {},\n    //返回列表\n    handleDetailCancel: function handleDetailCancel() {\n      this.mobileDetailShow = !this.mobileDetailShow;\n    }\n  }\n};\nexports.default = _default;",null]}