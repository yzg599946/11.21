{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\components\\orderTable\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\components\\orderTable\\index.vue","mtime":1564796436838},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"vant/es/search/style\";\nimport _Search from \"vant/es/search\";\nimport \"vant/es/action-sheet/style\";\nimport _ActionSheet from \"vant/es/action-sheet\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/field/style\";\nimport _Field from \"vant/es/field\";\nimport \"vant/es/picker/style\";\nimport _Picker from \"vant/es/picker\";\nimport \"vant/es/datetime-picker/style\";\nimport _DatetimePicker from \"vant/es/datetime-picker\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/cell/style\";\nimport _Cell from \"vant/es/cell\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"vant/es/popup/style\";\nimport _Popup from \"vant/es/popup\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/pagination/style\";\nimport _Pagination from \"vant/es/pagination\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nimport { getStore } from \"@/utils/store\";\nimport XEUtils from \"xe-utils\";\nimport permission from \"@/directive/permission/index.js\"; // 权限判断指令\n\nimport { parseTime } from \"@/utils\";\nimport { getOuterChainOrder, editOuterChainUsefulStatus, editOuterChainOrder, exportOuterChainExcel, getSalesmanList, getColorList, importJD, getProductSelectList, getChannelSelectList, getOuterChainOrderInfo } from \"@/api/orderList\";\nimport { setTimeout, clearTimeout } from \"timers\";\nimport store from \"@/store\";\nVue.use(_Pagination);\nVue.use(_Button);\nVue.use(_Popup);\nVue.use(_NavBar);\nVue.use(_Cell);\nVue.use(_CellGroup);\nVue.use(_DatetimePicker);\nVue.use(_Picker);\nVue.use(_Field);\nVue.use(_Icon);\nVue.use(_Toast);\nVue.use(_ActionSheet);\nVue.use(_Search);\nexport default {\n  name: \"orderTable\",\n  props: [\"category\"],\n  directives: {\n    permission: permission\n  },\n  data: function data() {\n    return {\n      list: [],\n      pickerOptions: {\n        shortcuts: [{\n          text: \"上月\",\n          onClick: function onClick(picker) {\n            var start = new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1);\n            var end = new Date(new Date().getFullYear(), new Date().getMonth() - 1, new Date(new Date().getFullYear(), new Date().getMonth(), 0).getDate());\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }]\n      },\n      salemanOptions: [],\n      salesmanColumns: [],\n      channelOptions: [],\n      channelColumns: [],\n      productOptions: [],\n      productColumns: [],\n      productAllOptions: [],\n      colorOptions: [],\n      colorColumns: [],\n      usefulOptions: [{\n        value: \"0\",\n        label: \"无效单\"\n      }, {\n        value: \"1\",\n        label: \"有效单\"\n      }],\n      usefulColumns: [\"无效单\", \"有效单\"],\n      repeatOrderOptions: [{\n        value: \"0\",\n        label: \"不重单\"\n      }, {\n        value: \"1\",\n        label: \"重单\"\n      }],\n      repeatIpOptions: [{\n        value: \"0\",\n        label: \"不重复ip\"\n      }, {\n        value: \"1\",\n        label: \"重复ip\"\n      }],\n      repeatIpColumns: [\"不重复\", \"重复\"],\n      repeatOrderColumns: [\"不重单\", \"重单\"],\n      repeatNamePhoneOptions: [{\n        value: \"0\",\n        label: \"不重复手机姓名\"\n      }, {\n        value: \"1\",\n        label: \"重复手机姓名\"\n      }],\n      repeatNamePhoneColumns: [\"不重复\", \"重复\"],\n      exportjdOptions: [{\n        value: \"0\",\n        label: \"未导入\"\n      }, {\n        value: \"1\",\n        label: \"已导入\"\n      }],\n      exportJDColumns: [\"未导入\", \"已导入\"],\n      timeSelectValue: \"\",\n      salemanValue: \"\",\n      channelValue: \"\",\n      productValue: \"\",\n      usefulValue: \"\",\n      repeatOrderValue: \"\",\n      repeatIpValue: \"\",\n      repeatNamePhoneValue: \"\",\n      exportjdValue: \"\",\n      colorInput: \"\",\n      nameInput: \"\",\n      phoneNumberInput: \"\",\n      minIdInput: \"\",\n      maxIdInput: \"\",\n      minPriceInput: \"\",\n      maxPriceInput: \"\",\n      formLabelWidth: \"120px\",\n      editDialogVisible: false,\n      form: {\n        productName: \"\",\n        name: \"\",\n        colorName: \"\",\n        num: \"\",\n        totalCost: \"\",\n        remark: \"\",\n        address: \"\"\n      },\n      currentEditID: 0,\n      downloadLoading: false,\n      listLoading: false,\n      currentPage: 1,\n      //当前页\n      mobileCurrentPage: 1,\n      pagesizes: [300, 500, 1000, 5000],\n      //单页最大显示条数\n      pagesize: 300,\n      //单页内条数\n      listTotal: 0,\n      // 页面总数\n      salemanWidth: \"\",\n      importTypeDialogVisible: false,\n      multipleSelection: [],\n      clickFlag: null,\n      // 单击定时器\n      mobileSearchShow: false,\n      mobileDatePickerShow: false,\n      mobileSalesmanPickerShow: false,\n      mobileChannelPickerShow: false,\n      mobileProductPickerShow: false,\n      mobileUsefulPickerShow: false,\n      mobileRepeatOrderPickerShow: false,\n      mobileRepeatIpPickerShow: false,\n      mobileRepeatNamePhonePickerShow: false,\n      mobileExportJDPickerShow: false,\n      minDate: new Date(1950, 10, 1),\n      maxDate: new Date(),\n      currentDate: new Date(),\n      minDateEnd: new Date(),\n      maxDateStart: new Date(),\n      timePickerStartValue: \"请选择\",\n      timePickerEndValue: \"请选择\",\n      salesmanMobileValue: \"请选择\",\n      channelMobileValue: \"请选择\",\n      productMobileValue: \"请选择\",\n      usefulMobileValue: \"请选择\",\n      repeatOrderMobileValue: \"请选择\",\n      repeatIpMobileValue: \"请选择\",\n      repeatNamePhoneMobileValue: \"请选择\",\n      exportJDMobileValue: \"请选择\",\n      nameMobileValue: \"\",\n      colorMobileValue: \"\",\n      phoneMobileValue: \"\",\n      minIdMobileValue: \"\",\n      maxIdMobileValue: \"\",\n      minPriceMobileValue: \"\",\n      maxPriceMobileValue: \"\",\n      device: \"\",\n      salesmanSearchValue: \"\",\n      channelSearchValue: \"\",\n      productSearchValue: \"\",\n      salesPickerCurrentSelect: 0,\n      channelPickerCurrentSelect: 0,\n      productPickerCurrentSelect: 0,\n      datetimePickerType: \"\",\n      mobileSearchButtonLoading: false,\n      tableMaxHeight: 0,\n      pageJumpIndex: 1,\n      searchButtonLoading: false,\n      clearSearchButtonLoading: false,\n      contains: false,\n      jdSelect: [],\n      productChangeLoading: false,\n      channelChangeLoading: false,\n      exportType: \"1\",\n      transport: \"1\",\n      orderType: \"\",\n      orderName: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.device = this.$store.state.app.device;\n    window.addEventListener(\"resize\", this.getHeight);\n    this.$nextTick(function () {\n      if (_this.device === \"desktop\") {\n        _this.getList();\n\n        _this.getProductList();\n\n        _this.getChannelList();\n      } else {\n        _this.getMobileList();\n\n        _this.getProductListMobile();\n\n        _this.getChannelListMobile();\n      }\n    });\n    this.getHeight();\n    this.getSalesman();\n    this.getColor();\n    this.getProduct();\n    this.getProductList();\n    this.getChannelList();\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener(\"resize\", this.getHeight);\n  },\n  computed: {\n    deviceVal: function deviceVal() {\n      return this.$store.state.app.device;\n    }\n  },\n  watch: {\n    deviceVal: function deviceVal(newVal, oldVal) {\n      this.device = newVal;\n    }\n  },\n  methods: {\n    // 获取数据\n    getList: function getList() {\n      var _this2 = this;\n\n      this.listLoading = true;\n\n      if (this.timeSelectValue == null) {\n        this.timeSelectValue = \"\";\n      } else {\n        this.timeSelectValue == \"\" ? this.timeSelectValue : [\"\", \"\"];\n      }\n\n      var paramsObj = {\n        contains: this.contains,\n        rows: this.pagesize,\n        page: this.currentPage\n      };\n      this.timeSelectValue[0] ? paramsObj.createTime = this.timeSelectValue[0] : \"\";\n      this.timeSelectValue[1] ? paramsObj.createTimeEnd = this.timeSelectValue[1] : \"\";\n      this.channelValue ? paramsObj.cid = this.channelValue : \"\";\n      this.colorInput ? paramsObj.colorName = this.colorInput : \"\";\n      this.minIdInput ? paramsObj.id = this.minIdInput : \"\";\n      this.maxIdInput ? paramsObj.idEnd = this.maxIdInput : \"\";\n      this.repeatOrderValue ? paramsObj.isRepeat = this.repeatOrderValue : \"\";\n      this.repeatIpValue ? paramsObj.isIpRepeat = this.repeatIpValue : \"\";\n      this.usefulValue ? paramsObj.mode = this.usefulValue : \"\";\n      this.exportjdValue ? paramsObj.isImport = this.exportjdValue : \"\";\n      this.repeatNamePhoneValue ? paramsObj.isNameRepeat = this.repeatNamePhoneValue : \"\";\n      this.nameInput ? paramsObj.name = this.nameInput : \"\";\n      this.productValue ? paramsObj.productId = this.productValue : \"\";\n      this.phoneNumberInput ? paramsObj.telephone = this.phoneNumberInput : \"\";\n      this.minPriceInput ? paramsObj.totalCost = this.minPriceInput : \"\";\n      this.maxPriceInput ? paramsObj.totalCostEnd = this.maxPriceInput : \"\";\n\n      if (this.salemanValue.length > 0) {\n        paramsObj.uids = this.salemanValue.join(\",\");\n      }\n\n      if (this.orderType != \"\") {\n        paramsObj.order = this.orderType;\n        paramsObj.sort = this.orderName;\n      }\n\n      getOuterChainOrder(this.category, paramsObj).then(function (res) {\n        _this2.listTotal = res.data.total;\n        _this2.list = res.data.rows;\n        _this2.listLoading = false;\n\n        _this2.$refs.orderTable.clearScroll();\n      }).catch(function (error) {});\n    },\n    // 更改背景色\n    cellClassName: function cellClassName(_ref) {\n      var row = _ref.row,\n          rowIndex = _ref.rowIndex,\n          column = _ref.column,\n          columnIndex = _ref.columnIndex;\n\n      if (column.property === \"name\") {\n        if (row.repeatName == \"1\") {\n          return \"col-red\";\n        }\n      }\n\n      if (column.property === \"telephone\") {\n        if (row.repeatTelephone == \"1\") {\n          return \"col-red\";\n        }\n      }\n    },\n    // 获取业务员列表\n    getSalesman: function getSalesman() {\n      var salesmanList = getStore({\n        name: \"salesmanList\"\n      });\n      this.salemanOptions = JSON.parse(salesmanList);\n      var salesmanColumns = [];\n      this.salemanOptions.forEach(function (salesmanItem) {\n        salesmanColumns.push(salesmanItem.label);\n      });\n      this.salesmanColumns = salesmanColumns;\n    },\n    // 获取颜色列表\n    getColor: function getColor() {\n      var colorList = getStore({\n        name: \"colorList\"\n      });\n      this.colorOptions = JSON.parse(colorList);\n      var colorColumns = [];\n      this.colorOptions.forEach(function (colorItem) {\n        colorColumns.push(colorItem.label);\n      });\n      this.colorColumns = colorColumns;\n    },\n    // 获取产品列表\n    getProduct: function getProduct() {\n      var productList = getStore({\n        name: \"productList\"\n      });\n      this.productAllOptions = JSON.parse(productList);\n    },\n    // 表格高度自适应\n    getHeight: function getHeight() {\n      var _this3 = this;\n\n      this.$nextTick(function () {\n        if (_this3.device === \"desktop\") {\n          _this3.tableMaxHeight = document.body.offsetHeight - (200 + _this3.$refs.filterBox.offsetHeight + 40 + 18);\n        } else {\n          _this3.tableMaxHeight = document.body.offsetHeight - (100 + 40 + 40 + 86 + 10 + 37);\n        }\n      });\n    },\n    // 单击复制\n    handleUseful: function handleUseful(_ref2, event) {\n      var _this4 = this;\n\n      var row = _ref2.row,\n          rowIndex = _ref2.rowIndex,\n          column = _ref2.column,\n          columnIndex = _ref2.columnIndex;\n      if (this.device == \"mobile\") return;\n\n      if (this.clickFlag) {\n        clearTimeout(this.clickFlag);\n        this.clickFlag = null;\n      }\n\n      this.clickFlag = setTimeout(function () {\n        var count = 0;\n        if (column.title == undefined) return;\n\n        if (column.title == \"是否可用\") {\n          //判断权限\n          var roles = store.getters && store.getters.roles;\n\n          if (roles.indexOf(_this4.category + \"-list-mode\") == -1) {\n            return;\n          } else {\n            _this4.list.forEach(function (item) {\n              if (item.id == row.id) {\n                _this4.handleChangeUseful({\n                  id: row.id,\n                  mode: _this4.list[count].mode\n                });\n              } else {\n                count++;\n              }\n            });\n          }\n        } else {\n          var copyText = event.target.innerText;\n\n          if (copyText != \"\") {\n            var inputElement = document.getElementById(\"copy_content\");\n            inputElement.value = copyText;\n            inputElement.select();\n            document.execCommand(\"Copy\");\n\n            _this4.$message({\n              message: \"复制成功\",\n              type: \"success\"\n            });\n          } else {\n            _this4.$message.error(\"复制失败，内容可能为空\");\n          }\n        }\n      }, 300);\n    },\n    // 修改可用状态\n    handleChangeUseful: function handleChangeUseful(data) {\n      var _this5 = this;\n\n      var id = data.id,\n          mode = data.mode;\n      var modeInt;\n      mode == 1 ? modeInt = 0 : modeInt = 1;\n      editOuterChainUsefulStatus(this.category, {\n        id: id,\n        mode: modeInt\n      }).then(function (res) {\n        _this5.getList();\n\n        setTimeout(function () {\n          _this5.$message({\n            message: \"修改成功\",\n            type: \"success\"\n          });\n        }, 1000);\n      }).catch(function (error) {\n        _this5.$message.error(\"修改失败\");\n      });\n    },\n    // 双击编辑\n    handleEdit: function handleEdit(_ref3, event) {\n      var _this6 = this;\n\n      var row = _ref3.row,\n          rowIndex = _ref3.rowIndex,\n          column = _ref3.column,\n          columnIndex = _ref3.columnIndex;\n      if (this.device == \"mobile\") return; //判断权限\n\n      var roles = store.getters && store.getters.roles;\n\n      if (roles.indexOf(this.category + \"-list-update\") == -1) {\n        return;\n      }\n\n      if (this.clickFlag) {\n        clearTimeout(this.clickFlag);\n        this.clickFlag = null;\n      }\n\n      var timestamp = Date.parse(new Date());\n      getOuterChainOrderInfo(this.category, {\n        'id': row.id,\n        '_': timestamp\n      }).then(function (res) {\n        _this6.form = res.data;\n        _this6.currentEditID = row.id;\n        _this6.editDialogVisible = true;\n      });\n    },\n    // 取消编辑\n    handleEditCancel: function handleEditCancel() {\n      this.editDialogVisible = false;\n    },\n    // 确认编辑\n    handleEditConfirm: function handleEditConfirm(row, column, event) {\n      var _this7 = this;\n\n      var count = 0;\n      var colorId;\n      this.list.forEach(function (item) {\n        if (item.id == _this7.currentEditID) {\n          if (_this7.form.colorName == null) {\n            _this7.form.colorName = undefined;\n          }\n\n          var params = {\n            id: _this7.list[count].id,\n            productId: _this7.form.productId,\n            name: _this7.form.name,\n            colorName: _this7.form.colorName,\n            num: _this7.form.num,\n            totalCost: _this7.form.totalCost,\n            remark: _this7.form.remark,\n            address: _this7.form.address\n          };\n          editOuterChainOrder(_this7.category, params).then(function (res) {\n            _this7.getList();\n\n            setTimeout(function () {\n              _this7.$message({\n                message: \"修改成功\",\n                type: \"success\"\n              });\n            }, 1000);\n          }).catch(function (error) {\n            _this7.$message.error(\"修改失败\");\n          });\n        } else {\n          count++;\n        }\n      });\n      this.editDialogVisible = false;\n    },\n    // 搜索验证\n    searchVerify: function searchVerify() {\n      if (this.minIdInput && !this.maxIdInput || !this.minIdInput && this.maxIdInput) {\n        this.$message({\n          message: \"未填写完整的ID范围\",\n          type: \"warning\"\n        });\n        return false;\n      }\n\n      if (this.minPriceInput && !this.maxPriceInput || !this.minPriceInput && this.maxPriceInput) {\n        this.$message({\n          message: \"未填写完整的价格范围\",\n          type: \"warning\"\n        });\n        return false;\n      }\n    },\n    // 搜索\n    handleSearch: function handleSearch() {\n      if (this.searchVerify()) return;\n      this.searchButtonLoading = true;\n      this.getList();\n      this.searchButtonLoading = false;\n    },\n    // 清空搜索项\n    handleClearSearch: function handleClearSearch() {\n      this.timeSelectValue = \"\";\n      this.salemanValue = [];\n      this.channelValue = \"\";\n      this.productValue = \"\";\n      this.colorInput = \"\";\n      this.nameInput = \"\";\n      this.phoneNumberInput = \"\";\n      this.usefulValue = \"\";\n      this.repeatOrderValue = \"\";\n      this.repeatIpValue = \"\";\n      this.repeatNamePhoneValue = \"\";\n      this.exportjdValue = \"\";\n      this.minIdInput = \"\";\n      this.maxIdInput = \"\";\n      this.minPriceInput = \"\";\n      this.maxPriceInput = \"\";\n      this.salemanChange();\n    },\n    // 页面条数切换\n    handleSizeChange: function handleSizeChange(val) {\n      this.pagesize = val;\n      this.getList();\n    },\n    //选择表格当前页数\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getList();\n    },\n    // 导出excel\n    handleDownload: function handleDownload() {\n      this.downloadLoading = true;\n\n      if (this.multipleSelection.length === 0) {\n        this.$message.error(\"未选择任何数据\");\n        this.downloadLoading = false;\n        return;\n      }\n\n      var ids = [];\n      this.multipleSelection.forEach(function (selectItem) {\n        ids.push(selectItem.id);\n      });\n      var idsStr = ids.join(\",\");\n      exportOuterChainExcel(this.category, {\n        ids: idsStr,\n        logistics: \"yd\"\n      }).then(function (res) {\n        var blob = new Blob([res], {\n          type: \"application/vnd.mx-excel;charset=utf-8\"\n        });\n        var myDate = new Date();\n        var year = myDate.getFullYear();\n        var month = myDate.getMonth() + 1;\n        var day = myDate.getDate();\n        var downloadElement = document.createElement(\"a\");\n        var href = window.URL.createObjectURL(blob); //创建下载的链接\n\n        downloadElement.href = href;\n        downloadElement.download = \"\\u8BA2\\u5355 \".concat(year, \"-\").concat(month, \"-\").concat(day, \".xls\"); //下载后文件名\n\n        document.body.appendChild(downloadElement);\n        downloadElement.click(); //点击下载\n\n        document.body.removeChild(downloadElement); //下载完成移除元素\n\n        window.URL.revokeObjectURL(href); //释放掉blob对象\n      });\n      this.downloadLoading = false;\n    },\n    // 业务员选择器宽度自适应\n    salemanChange: function salemanChange() {\n      var inputWidth = 178; //选择器原始宽度 178px\n\n      var optionWidth = this.salemanValue.length * 65 + 97; //一个标签宽度65px 右边预留97px\n\n      this.salemanWidth = optionWidth > inputWidth ? \"width:\" + optionWidth + \"px\" : \"width:\" + inputWidth + \"px\";\n      this.getProductList();\n      this.getChannelList();\n    },\n    // 选择发生改变\n    handleSelectChange: function handleSelectChange(_ref4, event) {\n      var selection = _ref4.selection,\n          checked = _ref4.checked,\n          row = _ref4.row,\n          column = _ref4.column;\n      this.multipleSelection = selection;\n    },\n    // 全选\n    handleSelectAll: function handleSelectAll(_ref5, event) {\n      var selection = _ref5.selection,\n          checked = _ref5.checked;\n      this.multipleSelection = selection;\n    },\n    // 导出德邦\n    handleExportDB: function handleExportDB() {\n      this.downloadLoading = true;\n\n      if (this.multipleSelection.length === 0) {\n        this.$message.error(\"未选择任何数据\");\n        this.downloadLoading = false;\n        return;\n      }\n\n      var ids = [];\n      this.multipleSelection.forEach(function (selectItem) {\n        ids.push(selectItem.id);\n      });\n      var idsStr = ids.join(\",\");\n      exportOuterChainExcel(this.category, {\n        ids: idsStr,\n        logistics: \"deppon\"\n      }).then(function (res) {\n        var blob = new Blob([res], {\n          type: \"application/vnd.mx-excel;charset=utf-8\"\n        });\n        var myDate = new Date();\n        var year = myDate.getFullYear();\n        var month = myDate.getMonth() + 1;\n        var day = myDate.getDate();\n        var downloadElement = document.createElement(\"a\");\n        var href = window.URL.createObjectURL(blob); //创建下载的链接\n\n        downloadElement.href = href;\n        downloadElement.download = \"\\u8BA2\\u5355 \".concat(year, \"-\").concat(month, \"-\").concat(day, \".xls\"); //下载后文件名\n\n        document.body.appendChild(downloadElement);\n        downloadElement.click(); //点击下载\n\n        document.body.removeChild(downloadElement); //下载完成移除元素\n\n        window.URL.revokeObjectURL(href); //释放掉blob对象\n      });\n      this.downloadLoading = false;\n    },\n    // 批量导入京东\n    handleBatchImportIntoJD: function handleBatchImportIntoJD() {\n      if (this.multipleSelection.length === 0) {\n        this.$message.error(\"未选择任何数据\");\n      } else {\n        this.jdSelect = this.multipleSelection;\n        this.importTypeDialogVisible = true;\n      }\n    },\n    // 确认导入京东\n    handleExportJd: function handleExportJd() {\n      var _this8 = this;\n\n      var ids = [];\n      this.jdSelect.forEach(function (item) {\n        ids.push(item.id);\n      });\n      var idsStr = ids.join(\",\");\n      importJD(this.category, {\n        ids: idsStr,\n        trans: this.transport,\n        type: this.exportType,\n        text: this.category\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this8.$alert(res.msg, \"导入京东结果\", {\n            dangerouslyUseHTMLString: true\n          });\n        }\n      });\n      this.importTypeDialogVisible = false;\n    },\n    // 合计\n    footerMethod: function footerMethod(_ref6) {\n      var columns = _ref6.columns,\n          data = _ref6.data;\n      return [columns.map(function (column, columnIndex) {\n        if (columnIndex === 1) {\n          return \"合计\";\n        }\n\n        if ([\"num\", \"totalCost\"].includes(column.property)) {\n          return XEUtils.sum(data, column.property);\n        }\n\n        return \"-\";\n      })];\n    },\n    // 刷新\n    handleRefresh: function handleRefresh() {\n      this.getList();\n    },\n    // 选择日期\n    handleChooseDate: function handleChooseDate() {\n      this.getProductList();\n      this.getChannelList();\n    },\n    // 获取产品列表\n    getProductList: function getProductList() {\n      var _this9 = this;\n\n      this.productOptions = [];\n      var paramsObj = {\n        channel: this.category\n      };\n\n      if (this.timeSelectValue == null) {\n        this.timeSelectValue = [\"\", \"\"];\n      } else {\n        this.timeSelectValue == \"\" ? this.timeSelectValue : [\"\", \"\"];\n      }\n\n      this.timeSelectValue[0] ? paramsObj.createTime = this.timeSelectValue[0] : \"\";\n      this.timeSelectValue[1] ? paramsObj.createTimeEnd = this.timeSelectValue[1] : \"\";\n      this.channelValue ? paramsObj.cid = this.channelValue : \"\";\n      this.minIdInput ? paramsObj.id = this.minIdInput : \"\";\n      this.maxIdInput ? paramsObj.idEnd = this.maxIdInput : \"\";\n      this.repeatOrderValue ? paramsObj.isRepeat = this.repeatOrderValue : \"\";\n      this.usefulValue ? paramsObj.mode = this.usefulValue : \"\";\n      this.nameInput ? paramsObj.name = this.nameInput : \"\";\n      this.productValue ? paramsObj.productId = this.productValue : \"\";\n      this.phoneNumberInput ? paramsObj.telephone = this.phoneNumberInput : \"\";\n      this.minPriceInput ? paramsObj.totalCost = this.minPriceInput : \"\";\n      this.maxPriceInput ? paramsObj.totalCostEnd = this.maxPriceInput : \"\";\n\n      if (this.salemanValue.length > 0) {\n        paramsObj.uids = this.salemanValue.join(\",\");\n      }\n\n      getProductSelectList(paramsObj, this.category).then(function (res) {\n        var tableList = res.data;\n        var productList = [];\n        tableList.forEach(function (tableItem) {\n          var name = tableItem.name,\n              id = tableItem.id;\n          var productItem = {\n            label: name,\n            value: id\n          };\n          productList.push(productItem);\n        });\n        _this9.productOptions = productList;\n      });\n    },\n    // 点击渠道下拉框\n    getChannelList: function getChannelList() {\n      var _this10 = this;\n\n      this.channelOptions = [];\n      var paramsObj = {\n        channel: this.category\n      };\n\n      if (this.timeSelectValue == null) {\n        this.timeSelectValue = [\"\", \"\"];\n      } else {\n        this.timeSelectValue == \"\" ? this.timeSelectValue : [\"\", \"\"];\n      }\n\n      this.timeSelectValue[0] ? paramsObj.createTime = this.timeSelectValue[0] : \"\";\n      this.timeSelectValue[1] ? paramsObj.createTimeEnd = this.timeSelectValue[1] : \"\";\n      this.channelValue ? paramsObj.cid = this.channelValue : \"\";\n      this.minIdInput ? paramsObj.id = this.minIdInput : \"\";\n      this.maxIdInput ? paramsObj.idEnd = this.maxIdInput : \"\";\n      this.repeatOrderValue ? paramsObj.isRepeat = this.repeatOrderValue : \"\";\n      this.usefulValue ? paramsObj.mode = this.usefulValue : \"\";\n      this.nameInput ? paramsObj.name = this.nameInput : \"\";\n      this.productValue ? paramsObj.productId = this.productValue : \"\";\n      this.phoneNumberInput ? paramsObj.telephone = this.phoneNumberInput : \"\";\n      this.minPriceInput ? paramsObj.totalCost = this.minPriceInput : \"\";\n      this.maxPriceInput ? paramsObj.totalCostEnd = this.maxPriceInput : \"\";\n\n      if (this.salemanValue.length > 0) {\n        paramsObj.uids = this.salemanValue.join(\",\");\n      }\n\n      getChannelSelectList(paramsObj, this.category).then(function (res) {\n        var tableList = res.data;\n        var channelList = [];\n        tableList.forEach(function (tableItem) {\n          var name = tableItem.name,\n              id = tableItem.id;\n          var channelItem = {\n            label: name,\n            value: id\n          };\n          channelList.push(channelItem);\n        });\n        _this10.channelOptions = channelList;\n      });\n    },\n    // 排序\n    handleSort: function handleSort(_ref7, event) {\n      var triggerResizable = _ref7.triggerResizable,\n          triggerSort = _ref7.triggerSort,\n          triggerFilter = _ref7.triggerFilter,\n          $rowIndex = _ref7.$rowIndex,\n          column = _ref7.column,\n          columnIndex = _ref7.columnIndex,\n          $columnIndex = _ref7.$columnIndex,\n          cell = _ref7.cell;\n\n      if (column.title == \"产品名称\" || column.title == \"颜色名称\") {\n        if (column.property != this.orderName) {\n          this.orderType = \"\";\n        }\n\n        if (this.orderType == \"\") {\n          this.orderType = \"asc\";\n        } else if (this.orderType == \"asc\") {\n          this.orderType = \"desc\";\n        } else {\n          this.orderType = \"\";\n        }\n\n        this.orderName = column.property;\n        this.getList();\n      }\n    },\n\n    /* 移动端事件 */\n    // 获取数据\n    getMobileList: function getMobileList() {\n      var _this11 = this;\n\n      this.listLoading = true;\n      var timeStartValue = \"\";\n      var timeEndValue = \"\";\n      var productId = \"\";\n      var uids = [];\n      var repeatOrder = \"\";\n      var repeatIp = \"\";\n      var isImport = \"\";\n      var isNameRepeat = \"\";\n      var usefulOrder = \"\";\n      this.timePickerStartValue == \"请选择\" ? timeStartValue = \"\" : timeStartValue = this.timePickerStartValue.replace(/\\//g, \"-\");\n      this.timePickerEndValue == \"请选择\" ? timeEndValue = \"\" : timeEndValue = this.timePickerEndValue.replace(/\\//g, \"-\");\n\n      if (this.productMobileValue != \"请选择\") {\n        this.productOptions.forEach(function (productItem) {\n          if (productItem.label == _this11.productMobileValue) {\n            productId = productItem.value;\n          }\n        });\n      } else {\n        productId = \"\";\n      }\n\n      if (this.salesmanMobileValue != \"请选择\") {\n        var salesmanArr;\n\n        if (this.salesmanMobileValue.length > 1) {\n          salesmanArr = this.salesmanMobileValue.split(\",\");\n          salesmanArr.forEach(function (salesmanItem) {\n            _this11.salemanOptions.forEach(function (optionItem) {\n              if (salesmanItem == optionItem.label) {\n                uids.push(optionItem.value);\n              }\n            });\n          });\n        } else {\n          this.salemanOptions.forEach(function (optionItem) {\n            if (optionItem.label == _this11.salesmanMobileValue) {\n              uids.push(optionItem.value);\n            }\n          });\n        }\n      }\n\n      if (this.repeatOrderMobileValue != \"请选择\") {\n        this.repeatOrderMobileValue == \"重单\" ? repeatOrder = 1 : repeatOrder = 0;\n      } else {\n        repeatOrder = \"\";\n      }\n\n      if (this.usefulMobileValue != \"请选择\") {\n        this.usefulMobileValue == \"有效单\" ? usefulOrder = 1 : usefulOrder = 0;\n      } else {\n        usefulOrder = \"\";\n      }\n\n      if (this.repeatIpMobileValue != \"请选择\") {\n        this.repeatIpMobileValue == \"重复\" ? repeatIp = 1 : repeatIp = 0;\n      } else {\n        repeatIp = \"\";\n      }\n\n      if (this.exportJDMobileValue != \"请选择\") {\n        this.exportJDMobileValue == \"已导入\" ? isImport = 1 : isImport = 0;\n      } else {\n        isImport = \"\";\n      }\n\n      if (this.repeatNamePhoneMobileValue != \"请选择\") {\n        this.repeatNamePhoneMobileValue == \"重复\" ? isNameRepeat = 1 : isNameRepeat = 0;\n      } else {\n        isNameRepeat = \"\";\n      }\n\n      var paramsObj = {\n        contains: this.contains,\n        rows: 50,\n        page: this.mobileCurrentPage\n      };\n      timeStartValue ? paramsObj.createTime = timeStartValue : \"\";\n      timeEndValue ? paramsObj.createTimeEnd = timeEndValue : \"\";\n      this.channelValue ? paramsObj.cid = this.channelValue : \"\";\n      this.minIdMobileValue ? paramsObj.id = this.minIdMobileValue : \"\";\n      this.maxIdMobileValue ? paramsObj.idEnd = this.maxIdMobileValue : \"\";\n      repeatOrder ? paramsObj.isRepeat = repeatOrder : \"\";\n      repeatIp ? paramsObj.isIpRepeat = repeatIp : \"\";\n      usefulOrder ? paramsObj.mode = usefulOrder : \"\";\n      isImport ? paramsObj.isImport = isImport : \"\";\n      isNameRepeat ? paramsObj.isNameRepeat = isNameRepeat : \"\";\n      this.nameMobileValue ? paramsObj.name = this.nameMobileValue : \"\";\n      productId ? paramsObj.productId : \"\";\n      this.phoneMobileValue ? paramsObj.telephone = this.phoneMobileValue : \"\";\n      this.minPriceMobileValue ? paramsObj.totalCost = this.minPriceMobileValue : \"\";\n      this.maxPriceMobileValue ? paramsObj.totalCostEnd = this.maxPriceMobileValue : \"\";\n\n      if (uids.length > 0) {\n        paramsObj.uids = uids.join(\",\");\n      }\n\n      getOuterChainOrder(this.category, paramsObj).then(function (res) {\n        _this11.listTotal = res.data.total;\n        _this11.list = res.data.rows;\n        _this11.listLoading = false;\n        _this11.$refs.orderTable.bodyWrapper.scrollTop = 0;\n      }).catch(function (error) {\n        _this11.listLoading = false;\n\n        _this11.$message.error(\"获取数据时出错\");\n      });\n    },\n    // 合计\n    getSummaries: function getSummaries(param) {\n      var columns = param.columns,\n          data = param.data;\n      var sums = [];\n      columns.forEach(function (column, index) {\n        if (index === 0) {\n          sums[index] = \"合计\";\n          return;\n        }\n\n        var values = data.map(function (item) {\n          return Number(item[column.property]);\n        });\n\n        if (index === 7 || index === 6) {\n          sums[index] = values.reduce(function (prev, curr) {\n            var value = Number(curr);\n\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n        }\n      });\n      return sums;\n    },\n    // 更改背景色\n    mobileCellClassName: function mobileCellClassName(_ref8) {\n      var row = _ref8.row,\n          column = _ref8.column,\n          rowIndex = _ref8.rowIndex,\n          columnIndex = _ref8.columnIndex;\n\n      if (column.property === \"name\") {\n        if (row.repeatName == \"1\") {\n          return \"col-red\";\n        }\n      }\n\n      if (column.property === \"telephone\") {\n        if (row.repeatTelephone == \"1\") {\n          return \"col-red\";\n        }\n      }\n    },\n    // 分页器\n    handlePageChange: function handlePageChange() {\n      this.getMobileList();\n    },\n    // 点击搜索\n    handleSearchMobile: function handleSearchMobile() {\n      if (!this.mobileSearchShow) {\n        this.mobileSearchShow = true;\n      }\n    },\n    // 取消搜索\n    handleSearchMobileCancel: function handleSearchMobileCancel() {\n      if (this.mobileSearchShow) {\n        this.mobileSearchShow = false;\n      }\n    },\n    // 刷新\n    handleRefreshMobile: function handleRefreshMobile() {\n      this.getMobileList();\n    },\n    // 清空所选\n    handleSearchMobileClearAll: function handleSearchMobileClearAll() {\n      this.timePickerStartValue == \"请选择\" ? \"\" : this.timePickerStartValue = \"请选择\", this.timePickerEndValue == \"请选择\" ? \"\" : this.timePickerEndValue = \"请选择\", this.salesmanMobileValue == \"请选择\" ? \"\" : this.salesmanMobileValue = \"请选择\", this.channelMobileValue == \"请选择\" ? \"\" : this.channelMobileValue = \"请选择\", this.productMobileValue == \"请选择\" ? \"\" : this.productMobileValue = \"请选择\", this.usefulMobileValue == \"请选择\" ? \"\" : this.usefulMobileValue = \"请选择\", this.repeatOrderMobileValue == \"请选择\" ? \"\" : this.repeatOrderMobileValue = \"请选择\", this.repeatNamePhoneMobileValue == \"请选择\" ? \"\" : this.repeatNamePhoneMobileValue = \"请选择\", this.repeatIpMobileValue == \"请选择\" ? \"\" : this.repeatIpMobileValue = \"请选择\", this.exportJDMobileValue == \"请选择\" ? \"\" : this.exportJDMobileValue = \"请选择\", this.nameMobileValue == \"\" ? \"\" : this.nameMobileValue = \"\", this.colorMobileValue == \"\" ? \"\" : this.colorMobileValue = \"\", this.phoneMobileValue == \"\" ? \"\" : this.phoneMobileValue = \"\", this.maxIdMobileValue == \"\" ? \"\" : this.maxIdMobileValue = \"\", this.minIdMobileValue == \"\" ? \"\" : this.minIdMobileValue = \"\", this.maxPriceMobileValue == \"\" ? \"\" : this.maxPriceMobileValue = \"\", this.minPriceMobileValue == \"\" ? \"\" : this.minPriceMobileValue = \"\";\n    },\n    // 选择开始日期\n    handleChooseDateStartMobile: function handleChooseDateStartMobile() {\n      if (!this.mobileDatePickerShow) {\n        if (this.timePickerEndValue != \"请选择\") {\n          var maxDate_ = this.timePickerEndValue;\n          maxDate_ = maxDate_.replace(/-/g, \"/\");\n          var date = new Date(maxDate_);\n          this.maxDateStart = date;\n        }\n\n        this.datetimePickerType = \"start\";\n        this.mobileDatePickerShow = !this.mobileDatePickerShow;\n      }\n    },\n    // 选择结束日期\n    handleChooseDateEndMobile: function handleChooseDateEndMobile() {\n      if (!this.mobileDatePickerShow) {\n        if (this.timePickerStartValue != \"请选择\") {\n          var maxDate_ = this.timePickerStartValue;\n          maxDate_ = maxDate_.replace(/-/g, \"/\");\n          var date = new Date(maxDate_);\n          this.minDateEnd = date;\n        }\n\n        this.datetimePickerType = \"end\";\n        this.mobileDatePickerShow = !this.mobileDatePickerShow;\n      }\n    },\n    datetimePickerChange: function datetimePickerChange(e) {},\n    // 确认选择日期\n    datetimePickerConfirm: function datetimePickerConfirm(res) {\n      if (this.mobileDatePickerShow) {\n        if (this.datetimePickerType == \"start\") {\n          this.timePickerStartValue = res.toLocaleDateString();\n        } else {\n          this.timePickerEndValue = res.toLocaleDateString();\n        }\n\n        this.getChannelListMobile();\n        this.getProductListMobile();\n        this.mobileDatePickerShow = !this.mobileDatePickerShow;\n      }\n    },\n    // 取消选择日期\n    datetimePickerCancel: function datetimePickerCancel() {\n      this.mobileDatePickerShow = !this.mobileDatePickerShow;\n    },\n    // 选择业务员\n    handleChooseSalesman: function handleChooseSalesman() {\n      if (!this.mobileSalesmanPickerShow) {\n        this.mobileSalesmanPickerShow = !this.mobileSalesmanPickerShow;\n      }\n    },\n    getChannelListMobile: function getChannelListMobile() {\n      var _this12 = this;\n\n      var timeStartValue = \"\";\n      var timeEndValue = \"\";\n      var productId = \"\";\n      var uids = [];\n      var repeatOrder = \"\";\n      var usefulOrder = \"\";\n      this.timePickerStartValue == \"请选择\" ? timeStartValue = \"\" : timeStartValue = this.timePickerStartValue.replace(/\\//g, \"-\");\n      this.timePickerEndValue == \"请选择\" ? timeEndValue = \"\" : timeEndValue = this.timePickerEndValue.replace(/\\//g, \"-\");\n\n      if (this.productMobileValue != \"请选择\") {\n        this.productOptions.forEach(function (productItem) {\n          if (productItem.label == _this12.productMobileValue) {\n            productId = productItem.value;\n          }\n        });\n      } else {\n        productId = \"\";\n      }\n\n      if (this.salesmanMobileValue != \"请选择\") {\n        var salesmanArr;\n\n        if (this.salesmanMobileValue.length > 1) {\n          salesmanArr = this.salesmanMobileValue.split(\",\");\n          salesmanArr.forEach(function (salesmanItem) {\n            _this12.salemanOptions.forEach(function (optionItem) {\n              if (salesmanItem == optionItem.label) {\n                uids.push(optionItem.value);\n              }\n            });\n          });\n        } else {\n          this.salemanOptions.forEach(function (optionItem) {\n            if (optionItem.label == _this12.salesmanMobileValue) {\n              uids.push(optionItem.value);\n            }\n          });\n        }\n      }\n\n      if (this.repeatOrderMobileValue != \"请选择\") {\n        this.repeatOrderMobileValue == \"重单\" ? repeatOrder = 1 : repeatOrder = 0;\n      } else {\n        repeatOrder = \"\";\n      }\n\n      if (this.usefulMobileValue != \"请选择\") {\n        this.usefulMobileValue == \"有效单\" ? usefulOrder = 1 : usefulOrder = 0;\n      } else {\n        usefulOrder = \"\";\n      }\n\n      var searchList = [];\n      var paramsObj = {\n        channel: this.category\n      };\n      timeStartValue ? paramsObj.createTime = timeStartValue : \"\";\n      timeEndValue ? paramsObj.createTimeEnd = timeEndValue : \"\";\n      this.channelValue ? paramsObj.cid = this.channelValue : \"\";\n      this.minIdMobileValue ? paramsObj.id = this.minIdMobileValue : \"\";\n      this.maxIdMobileValue ? paramsObj.idEnd = this.maxIdMobileValue : \"\";\n      repeatOrder ? paramsObj.isRepeat = repeatOrder : \"\";\n      usefulOrder ? paramsObj.mode = usefulOrder : \"\";\n      this.nameMobileValue ? paramsObj.name = this.nameMobileValue : \"\";\n      productId ? paramsObj.productId : \"\";\n      this.phoneMobileValue ? paramsObj.telephone = this.phoneMobileValue : \"\";\n      this.minPriceMobileValue ? paramsObj.totalCost = this.minPriceMobileValue : \"\";\n      this.maxPriceMobileValue ? paramsObj.totalCostEnd = this.maxPriceMobileValue : \"\";\n\n      if (uids.length > 0) {\n        paramsObj.uids = uids.join(\",\");\n      }\n\n      getChannelSelectList(paramsObj, this.category).then(function (res) {\n        var tableList = res.data;\n        var channelList = [];\n        var optionList = [];\n        tableList.forEach(function (tableItem) {\n          var name = tableItem.name,\n              id = tableItem.id;\n          channelList.push(name);\n          optionList.push({\n            label: name,\n            value: id\n          });\n        });\n        _this12.channelColumns = channelList;\n        _this12.channelOptions = optionList;\n      });\n    },\n    // 选择渠道\n    handleChooseChannel: function handleChooseChannel() {\n      this.mobileChannelPickerShow = !this.mobileChannelPickerShow;\n    },\n    getProductListMobile: function getProductListMobile() {\n      var _this13 = this;\n\n      var timeStartValue = \"\";\n      var timeEndValue = \"\";\n      var productId = \"\";\n      var uids = [];\n      var repeatOrder = \"\";\n      var usefulOrder = \"\";\n      this.timePickerStartValue == \"请选择\" ? timeStartValue = \"\" : timeStartValue = this.timePickerStartValue.replace(/\\//g, \"-\");\n      this.timePickerEndValue == \"请选择\" ? timeEndValue = \"\" : timeEndValue = this.timePickerEndValue.replace(/\\//g, \"-\");\n\n      if (this.productMobileValue != \"请选择\") {\n        this.productOptions.forEach(function (productItem) {\n          if (productItem.label == _this13.productMobileValue) {\n            productId = productItem.value;\n          }\n        });\n      } else {\n        productId = \"\";\n      }\n\n      if (this.salesmanMobileValue != \"请选择\") {\n        var salesmanArr;\n\n        if (this.salesmanMobileValue.length > 1) {\n          salesmanArr = this.salesmanMobileValue.split(\",\");\n          salesmanArr.forEach(function (salesmanItem) {\n            _this13.salemanOptions.forEach(function (optionItem) {\n              if (salesmanItem == optionItem.label) {\n                uids.push(optionItem.value);\n              }\n            });\n          });\n        } else {\n          this.salemanOptions.forEach(function (optionItem) {\n            if (optionItem.label == _this13.salesmanMobileValue) {\n              uids.push(optionItem.value);\n            }\n          });\n        }\n      }\n\n      if (this.repeatOrderMobileValue != \"请选择\") {\n        this.repeatOrderMobileValue == \"重单\" ? repeatOrder = 1 : repeatOrder = 0;\n      } else {\n        repeatOrder = \"\";\n      }\n\n      if (this.usefulMobileValue != \"请选择\") {\n        this.usefulMobileValue == \"有效单\" ? usefulOrder = 1 : usefulOrder = 0;\n      } else {\n        usefulOrder = \"\";\n      }\n\n      var searchList = [];\n      var paramsObj = {\n        channel: this.category\n      };\n      timeStartValue ? paramsObj.createTime = timeStartValue : \"\";\n      timeEndValue ? paramsObj.createTimeEnd = timeEndValue : \"\";\n      this.channelValue ? paramsObj.cid = this.channelValue : \"\";\n      this.minIdMobileValue ? paramsObj.id = this.minIdMobileValue : \"\";\n      this.maxIdMobileValue ? paramsObj.idEnd = this.maxIdMobileValue : \"\";\n      repeatOrder ? paramsObj.isRepeat = repeatOrder : \"\";\n      usefulOrder ? paramsObj.mode = usefulOrder : \"\";\n      this.nameMobileValue ? paramsObj.name = this.nameMobileValue : \"\";\n      productId ? paramsObj.productId : \"\";\n      this.phoneMobileValue ? paramsObj.telephone = this.phoneMobileValue : \"\";\n      this.minPriceMobileValue ? paramsObj.totalCost = this.minPriceMobileValue : \"\";\n      this.maxPriceMobileValue ? paramsObj.totalCostEnd = this.maxPriceMobileValue : \"\";\n\n      if (uids.length > 0) {\n        paramsObj.uids = uids.join(\",\");\n      }\n\n      getProductSelectList(paramsObj, this.category).then(function (res) {\n        var tableList = res.data;\n        var productList = [];\n        var optionList = [];\n        tableList.forEach(function (tableItem) {\n          var id = tableItem.id,\n              name = tableItem.name;\n          productList.push(name);\n          optionList.push({\n            label: name,\n            value: id\n          });\n        });\n        _this13.productColumns = productList;\n        _this13.productOptions = optionList;\n      });\n    },\n    // 选择产品\n    handleChooseProduct: function handleChooseProduct() {\n      this.mobileProductPickerShow = !this.mobileProductPickerShow;\n    },\n    // 选择是否有效\n    handleChooseIsUseful: function handleChooseIsUseful() {\n      if (!this.mobileUsefulPickerShow) {\n        this.mobileUsefulPickerShow = !this.mobileUsefulPickerShow;\n      }\n    },\n    // 选择是否重单\n    handleChooseIsRepeatOrder: function handleChooseIsRepeatOrder() {\n      if (!this.mobileRepeatOrderPickerShow) {\n        this.mobileRepeatOrderPickerShow = !this.mobileRepeatOrderPickerShow;\n      }\n    },\n    // 选择是否重复ip\n    handleChooseIsRepeatIp: function handleChooseIsRepeatIp() {\n      if (!this.mobileRepeatIpPickerShow) {\n        this.mobileRepeatIpPickerShow = !this.mobileRepeatIpPickerShow;\n      }\n    },\n    // 选择是否重复电话姓名\n    handleChooseIsRepeatPhoneName: function handleChooseIsRepeatPhoneName() {\n      if (!this.mobileRepeatNamePhonePickerShow) {\n        this.mobileRepeatNamePhonePickerShow = !this.mobileRepeatNamePhonePickerShow;\n      }\n    },\n    // 选择是否导入京东\n    handleChooseExportJD: function handleChooseExportJD() {\n      if (!this.mobileExportJDPickerShow) {\n        this.mobileExportJDPickerShow = !this.mobileExportJDPickerShow;\n      }\n    },\n    // 确认选择业务员\n    salesmanPickerConfirm: function salesmanPickerConfirm(res) {\n      if (this.mobileSalesmanPickerShow) {\n        if (this.salesmanMobileValue == \"请选择\") {\n          this.salesmanMobileValue = res;\n        } else {\n          if (this.salesmanMobileValue.indexOf(\",\") != -1) {\n            var salesmanArr = new Array();\n            salesmanArr = this.salesmanMobileValue.split(\",\");\n\n            if (salesmanArr.indexOf(res) == -1) {\n              this.salesmanMobileValue = this.salesmanMobileValue + \",\" + res;\n            } else {\n              _Toast(\"请勿重复选择\");\n            }\n          } else {\n            if (this.salesmanMobileValue != res) {\n              this.salesmanMobileValue = this.salesmanMobileValue + \",\" + res;\n            } else {\n              _Toast(\"请勿重复选择\");\n            }\n          }\n        }\n\n        this.getChannelListMobile();\n        this.getProductListMobile();\n        this.mobileSalesmanPickerShow = !this.mobileSalesmanPickerShow;\n      }\n    },\n    // 确认选择渠道\n    channelPickerConfirm: function channelPickerConfirm(res) {\n      if (this.mobileChannelPickerShow) {\n        this.channelMobileValue = res;\n        this.mobileChannelPickerShow = !this.mobileChannelPickerShow;\n      }\n    },\n    // 确认选择产品\n    productPickerConfirm: function productPickerConfirm(res) {\n      if (this.mobileProductPickerShow) {\n        this.productMobileValue = res;\n        this.mobileProductPickerShow = !this.mobileProductPickerShow;\n      }\n    },\n    // 确认选择是否有效\n    usefulPickerConfirm: function usefulPickerConfirm(res) {\n      if (this.mobileUsefulPickerShow) {\n        this.usefulMobileValue = res;\n        this.mobileUsefulPickerShow = !this.mobileUsefulPickerShow;\n      }\n    },\n    // 确认选择是否重单\n    repeatOrderPickerConfirm: function repeatOrderPickerConfirm(res) {\n      if (this.mobileRepeatOrderPickerShow) {\n        this.repeatOrderMobileValue = res;\n        this.mobileRepeatOrderPickerShow = !this.mobileRepeatOrderPickerShow;\n      }\n    },\n    // 确认选择是否重复ip\n    repeatIpPickerConfirm: function repeatIpPickerConfirm(res) {\n      if (this.mobileRepeatIpPickerShow) {\n        this.repeatIpMobileValue = res;\n        this.mobileRepeatIpPickerShow = !this.mobileRepeatIpPickerShow;\n      }\n    },\n    // 确认选择是否重复电话姓名\n    repeatNamePhonePickerConfirm: function repeatNamePhonePickerConfirm(res) {\n      if (this.mobileRepeatNamePhonePickerShow) {\n        this.repeatNamePhoneMobileValue = res;\n        this.mobileRepeatNamePhonePickerShow = !this.mobileRepeatNamePhonePickerShow;\n      }\n    },\n    // 确认选择是否导入京东\n    exportJDPickerConfirm: function exportJDPickerConfirm(res) {\n      if (this.mobileExportJDPickerShow) {\n        this.exportJDMobileValue = res;\n        this.mobileExportJDPickerShow = !this.mobileExportJDPickerShow;\n      }\n    },\n    // 导入京东方式\n    mobileExportJDSelect: function mobileExportJDSelect(item) {\n      this.mobileExportJDDialogShow = false;\n\n      _Toast.success(item.name + \"成功\");\n    },\n    // 取消导入京东\n    mobileExportJDCancel: function mobileExportJDCancel() {},\n    // 业务员快捷搜索\n    handleSearchSalesmanItem: function handleSearchSalesmanItem() {\n      this.salesPickerCurrentSelect = this.salesmanColumns.indexOf(this.salesmanSearchValue);\n    },\n    // 渠道快捷搜索\n    handleSearchChannelItem: function handleSearchChannelItem() {\n      this.channelPickerCurrentSelect = this.channelColumns.indexOf(this.channelSearchValue);\n    },\n    // 产品快捷搜索\n    handleSearchProductItem: function handleSearchProductItem() {\n      this.productPickerCurrentSelect = this.productColumns.indexOf(this.productSearchValue);\n    },\n    // 开始搜索\n    handleMobileSearch: function handleMobileSearch() {\n      this.mobileSearchButtonLoading = true;\n      this.getMobileList();\n      this.mobileSearchButtonLoading = false;\n      this.mobileSearchShow = false;\n    },\n    // 限制页面跳转输入框只能输入数字\n    jumpPageInput: function jumpPageInput() {\n      this.pageJumpIndex = this.pageJumpIndex.replace(/[^\\d]/g, \"\");\n    },\n    // 跳转指定页面\n    handleJumpPage: function handleJumpPage() {\n      var _this14 = this;\n\n      var jumpPage = parseInt(this.pageJumpIndex);\n      if (jumpPage == this.mobileCurrentPage) return;\n\n      if (jumpPage > Math.ceil(this.listTotal / 50)) {\n        jumpPage = Math.ceil(this.listTotal / 50);\n      }\n\n      if (jumpPage < 1) {\n        jumpPage = 1;\n      }\n\n      setTimeout(function () {\n        _this14.pageJumpIndex = jumpPage;\n        _this14.mobileCurrentPage = jumpPage;\n\n        _this14.getMobileList();\n      }, 1000);\n    }\n  }\n};",null]}