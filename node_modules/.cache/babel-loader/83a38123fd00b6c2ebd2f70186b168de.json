{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\heater-management\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\heater-management\\order.vue","mtime":1561972910261},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\yet\\\\project\\\\longhuiteng_management_system\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _orderTable = _interopRequireDefault(require(\"@/components/orderTable\"));\n\nvar _orderList = require(\"@/api/orderList\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  components: {\n    orderTable: _orderTable.default\n  },\n  data: function data() {\n    return {\n      list: [],\n      paramsStorage: {},\n      searchButtonFlag: false,\n      searchButtonMobileFlag: false,\n      mobileSearchShowFlag: false\n    };\n  },\n  created: function created() {\n    this.list = this.getOrderList();\n  },\n  methods: {\n    // 获取列表\n    getOrderList: function getOrderList() {\n      var orderList = [];\n      var contains = false;\n      var rows = 1000;\n      var page = 1;\n      (0, _orderList.getOuterChainOrderHeater)({\n        contains: contains,\n        rows: rows,\n        page: page\n      }).then(function (res) {\n        var tableData = res.data.rows;\n        tableData.forEach(function (tableItem) {\n          var id = tableItem.id,\n              cpName = tableItem.cpName,\n              productName = tableItem.productName,\n              colorName = tableItem.colorName,\n              username = tableItem.username,\n              telephone = tableItem.telephone,\n              totalCost = tableItem.totalCost,\n              pNum = tableItem.pNum,\n              num = tableItem.num,\n              price = tableItem.price,\n              isRepeat = tableItem.isRepeat,\n              address = tableItem.address,\n              createTime = tableItem.createTime,\n              remark = tableItem.remark,\n              mode = tableItem.mode,\n              name = tableItem.name,\n              operator = tableItem.operator,\n              operatingTime = tableItem.operatingTime;\n          var orderItem = {\n            id: id,\n            channel: cpName,\n            productName: productName,\n            color: colorName,\n            name: name,\n            phoneNumber: telephone,\n            count: num,\n            price: totalCost,\n            repeatOrder: isRepeat,\n            address: address,\n            createTime: createTime,\n            remarks: remark,\n            isUseful: false,\n            logisticsState: mode,\n            salesman: username,\n            operator: operator,\n            nuclearOrderInterval: operatingTime\n          };\n          orderList.push(orderItem);\n        });\n      });\n      return orderList;\n    },\n    // 编辑\n    editConfirm: function editConfirm(data) {\n      var _this = this;\n\n      var id = data.id,\n          productId = data.productId,\n          name = data.name,\n          color = data.color,\n          count = data.count,\n          price = data.price,\n          remarks = data.remarks,\n          address = data.address;\n      var params = {\n        id: id,\n        productId: productId,\n        name: name,\n        colorName: color,\n        num: count,\n        totalCost: price,\n        remark: remarks,\n        address: address\n      };\n      (0, _orderList.editOuterChainOrderHeater)(params).then(function (res) {\n        _this.reloadPage();\n\n        setTimeout(function () {\n          _this.$message({\n            message: \"修改成功\",\n            type: \"success\"\n          });\n        }, 1000);\n      }).catch(function (error) {\n        _this.$message.error(\"修改失败\");\n\n        console.log(error);\n      });\n    },\n    // 搜索\n    clickToSearch: function clickToSearch(data) {\n      var _this2 = this;\n\n      this.searchButtonFlag = true;\n      var searchList = [];\n      var contains = false;\n      var rows = 1000;\n      var page = 1;\n      var createTime = data.createTime,\n          createTimeEnd = data.createTimeEnd,\n          cid = data.cid,\n          uid = data.uid,\n          id = data.id,\n          idEnd = data.idEnd,\n          isRepeat = data.isRepeat,\n          mode = data.mode,\n          name = data.name,\n          productId = data.productId,\n          telephone = data.telephone,\n          totalCost = data.totalCost,\n          totalCostEnd = data.totalCostEnd;\n      var paramsObj = {\n        contains: contains,\n        rows: rows,\n        page: page\n      };\n      createTime ? paramsObj.createTime = createTime : \"\";\n      createTimeEnd ? paramsObj.createTimeEnd = createTimeEnd : \"\";\n      cid ? paramsObj.cid = cid : \"\";\n      id ? paramsObj.id = id : \"\";\n      idEnd ? paramsObj.idEnd = idEnd : \"\";\n      isRepeat ? paramsObj.isRepeat = isRepeat : \"\";\n      mode ? paramsObj.mode = mode : \"\";\n      name ? paramsObj.name = name : \"\";\n      productId ? paramsObj.productId = productId : \"\";\n      telephone ? paramsObj.telephone = telephone : \"\";\n      totalCost ? paramsObj.totalCost = totalCost : \"\";\n      totalCostEnd ? paramsObj.totalCostEnd = totalCostEnd : \"\";\n\n      if (uid.length > 0) {\n        var uidStr = uid.join(\",\");\n        paramsObj.uids = uidStr;\n      }\n\n      this.paramsStorage = paramsObj;\n      (0, _orderList.getOuterChainOrderHeater)(paramsObj).then(function (res) {\n        var tableData = res.data.rows;\n        tableData.forEach(function (tableItem) {\n          var id = tableItem.id,\n              cpName = tableItem.cpName,\n              pid = tableItem.pid,\n              productName = tableItem.productName,\n              colorName = tableItem.colorName,\n              username = tableItem.username,\n              telephone = tableItem.telephone,\n              totalCost = tableItem.totalCost,\n              pNum = tableItem.pNum,\n              num = tableItem.num,\n              price = tableItem.price,\n              size = tableItem.size,\n              isRepeat = tableItem.isRepeat,\n              address = tableItem.address,\n              createTime = tableItem.createTime,\n              remark = tableItem.remark,\n              mode = tableItem.mode,\n              isImport = tableItem.isImport,\n              name = tableItem.name,\n              uid = tableItem.uid,\n              operator = tableItem.operator,\n              operatingTime = tableItem.operatingTime;\n          var orderItem = {\n            id: id,\n            channel: cpName,\n            pid: pid,\n            productName: productName,\n            color: colorName,\n            name: name,\n            phoneNumber: telephone,\n            count: num,\n            price: totalCost,\n            size: size,\n            repeatOrder: isRepeat,\n            address: address,\n            createTime: createTime,\n            remarks: remark,\n            isUseful: mode,\n            logisticsState: isImport,\n            salesman: username,\n            uid: uid,\n            operator: operator,\n            nuclearOrderInterval: operatingTime\n          };\n          searchList.push(orderItem);\n        });\n        _this2.list = searchList;\n        _this2.searchButtonFlag = false;\n      }).catch(function (error) {\n        _this2.searchButtonFlag = false;\n        console.log(error);\n      });\n    },\n    clickToMobileSearchPage: function clickToMobileSearchPage() {\n      this.mobileSearchShowFlag = true;\n    },\n    clickToCloseMobileSearchPage: function clickToCloseMobileSearchPage() {\n      this.mobileSearchShowFlag = false;\n    },\n    // 移动端搜索\n    clickToMobileSearch: function clickToMobileSearch(data) {\n      var _this3 = this;\n\n      this.searchButtonMobileFlag = true;\n      var searchList = [];\n      var contains = false;\n      var rows = 1000;\n      var page = 1;\n      var createTime = data.createTime,\n          createTimeEnd = data.createTimeEnd,\n          cid = data.cid,\n          uids = data.uids,\n          id = data.id,\n          idEnd = data.idEnd,\n          isRepeat = data.isRepeat,\n          mode = data.mode,\n          name = data.name,\n          productId = data.productId,\n          telephone = data.telephone,\n          totalCost = data.totalCost,\n          totalCostEnd = data.totalCostEnd;\n      var paramsObj = {\n        contains: contains,\n        rows: rows,\n        page: page\n      };\n      createTime ? paramsObj.createTime = createTime : \"\";\n      createTimeEnd ? paramsObj.createTimeEnd = createTimeEnd : \"\";\n      cid ? paramsObj.cid = cid : \"\";\n      id ? paramsObj.id = id : \"\";\n      idEnd ? paramsObj.idEnd = idEnd : \"\";\n      isRepeat ? paramsObj.isRepeat = isRepeat : \"\";\n      mode ? paramsObj.mode = mode : \"\";\n      name ? paramsObj.name = name : \"\";\n      productId ? paramsObj.productId : \"\";\n      telephone ? paramsObj.telephone = telephone : \"\";\n      totalCost ? paramsObj.totalCost = totalCost : \"\";\n      totalCostEnd ? paramsObj.totalCostEnd = totalCostEnd : \"\";\n\n      if (uids.length > 0) {\n        var uidStr = uids.join(\",\");\n        paramsObj.uids = uidStr;\n      }\n\n      this.paramsStorage = paramsObj;\n      (0, _orderList.getOuterChainOrderHeater)(paramsObj).then(function (res) {\n        var tableData = res.data.rows;\n        tableData.forEach(function (tableItem) {\n          var id = tableItem.id,\n              cpName = tableItem.cpName,\n              pid = tableItem.pid,\n              productName = tableItem.productName,\n              colorName = tableItem.colorName,\n              username = tableItem.username,\n              telephone = tableItem.telephone,\n              totalCost = tableItem.totalCost,\n              pNum = tableItem.pNum,\n              num = tableItem.num,\n              price = tableItem.price,\n              size = tableItem.size,\n              isRepeat = tableItem.isRepeat,\n              address = tableItem.address,\n              createTime = tableItem.createTime,\n              remark = tableItem.remark,\n              mode = tableItem.mode,\n              isImport = tableItem.isImport,\n              name = tableItem.name,\n              uid = tableItem.uid,\n              operator = tableItem.operator,\n              operatingTime = tableItem.operatingTime;\n          var orderItem = {\n            id: id,\n            channel: cpName,\n            pid: pid,\n            productName: productName,\n            color: colorName,\n            name: name,\n            phoneNumber: telephone,\n            count: num,\n            price: totalCost,\n            size: size,\n            repeatOrder: isRepeat,\n            address: address,\n            createTime: createTime,\n            remarks: remark,\n            isUseful: mode,\n            logisticsState: isImport,\n            salesman: username,\n            uid: uid,\n            operator: operator,\n            nuclearOrderInterval: operatingTime\n          };\n          searchList.push(orderItem);\n        });\n        _this3.list = searchList;\n        _this3.searchButtonMobileFlag = false;\n        _this3.mobileSearchShowFlag = false;\n      }).catch(function (error) {\n        _this3.searchButtonMobileFlag = false;\n        _this3.mobileSearchShowFlag = false;\n        console.log(error);\n      });\n    },\n    //修改可用状态\n    clickToChangeUseful: function clickToChangeUseful(data) {\n      var _this4 = this;\n\n      var id = data.id,\n          mode = data.mode;\n      var modeInt;\n      mode == 1 ? modeInt = 0 : modeInt = 1;\n      editUsefulCosmetic({\n        id: id,\n        mode: modeInt\n      }).then(function (res) {\n        _this4.reloadPage();\n\n        setTimeout(function () {\n          _this4.$message({\n            message: \"修改成功\",\n            type: \"success\"\n          });\n        }, 1000);\n      }).catch(function (error) {\n        _this4.$message.error(\"修改失败\");\n\n        console.log(error);\n      });\n    },\n    // 重载页面\n    reloadPage: function reloadPage() {\n      var _this5 = this;\n\n      if (this.paramsStorage === {}) {\n        this.list = this.getOrderList();\n      } else {\n        var searchList = [];\n        (0, _orderList.getOuterChainOrderHeater)(this.paramsStorage).then(function (res) {\n          var tableData = res.data.rows;\n          tableData.forEach(function (tableItem) {\n            var id = tableItem.id,\n                cpName = tableItem.cpName,\n                pid = tableItem.pid,\n                productName = tableItem.productName,\n                colorName = tableItem.colorName,\n                username = tableItem.username,\n                telephone = tableItem.telephone,\n                totalCost = tableItem.totalCost,\n                pNum = tableItem.pNum,\n                num = tableItem.num,\n                price = tableItem.price,\n                size = tableItem.size,\n                isRepeat = tableItem.isRepeat,\n                address = tableItem.address,\n                createTime = tableItem.createTime,\n                remark = tableItem.remark,\n                mode = tableItem.mode,\n                isImport = tableItem.isImport,\n                name = tableItem.name,\n                uid = tableItem.uid,\n                operator = tableItem.operator,\n                operatingTime = tableItem.operatingTime;\n            var orderItem = {\n              id: id,\n              channel: cpName,\n              pid: pid,\n              productName: productName,\n              color: colorName,\n              name: name,\n              phoneNumber: telephone,\n              count: num,\n              price: totalCost,\n              size: size,\n              repeatOrder: isRepeat,\n              address: address,\n              createTime: createTime,\n              remarks: remark,\n              isUseful: mode,\n              logisticsState: isImport,\n              salesman: username,\n              uid: uid,\n              operator: operator,\n              nuclearOrderInterval: operatingTime\n            };\n            searchList.push(orderItem);\n          });\n          _this5.list = searchList;\n        });\n      }\n    }\n  }\n};\nexports.default = _default;",null]}