{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\homepage\\components\\LineChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\homepage\\components\\LineChart.vue","mtime":1564131665041},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _timers = require(\"timers\");\n\nvar _homepage = require(\"@/api/homepage\");\n\n//\n//\n//\n//\nvar echarts = require(\"echarts\");\n\nvar _default = {\n  data: function data() {\n    return {\n      dataSource: [],\n      chart: null,\n      nameList: [],\n      dataList: [],\n      timeData: [],\n      tableHeight: \"\",\n      echartHeight: 0\n    };\n  },\n  mounted: function mounted() {\n    this.initCharts();\n  },\n  methods: {\n    initCharts: function initCharts() {\n      var _this = this;\n\n      (0, _homepage.getEchartData)().then(function (res) {\n        var clientWidth = _this.$refs.echarts.offsetWidth;\n        var rows = Math.ceil(res.data.length * 100 / clientWidth);\n        var mobileEchartHeight = 0;\n        var mobileTableHeight = \"\";\n\n        switch (rows) {\n          case 1:\n            mobileEchartHeight = 300;\n            mobileTableHeight = \"10%\";\n            break;\n\n          case 2:\n            mobileEchartHeight = 280;\n            mobileTableHeight = \"14%\";\n            break;\n\n          case 3:\n            mobileEchartHeight = 260;\n            mobileTableHeight = \"18%\";\n            break;\n\n          case 4:\n            mobileEchartHeight = 240;\n            mobileTableHeight = \"22%\";\n            break;\n\n          case 5:\n            mobileEchartHeight = 220;\n            mobileTableHeight = \"26%\";\n            break;\n\n          case 6:\n            mobileEchartHeight = 200;\n            mobileTableHeight = \"30%\";\n            break;\n\n          case 7:\n            mobileEchartHeight = 180;\n            mobileTableHeight = \"34%\";\n            break;\n\n          case 8:\n            mobileEchartHeight = 160;\n            mobileTableHeight = \"38%\";\n            break;\n\n          case 9:\n            mobileEchartHeight = 140;\n            mobileTableHeight = \"42%\";\n            break;\n\n          case 10:\n            mobileEchartHeight = 120;\n            mobileTableHeight = \"48%\";\n            break;\n\n          case 11:\n            mobileEchartHeight = 80;\n            mobileTableHeight = \"52%\";\n            break;\n\n          case 12:\n            mobileEchartHeight = 60;\n            mobileTableHeight = \"56%\";\n            break;\n\n          default:\n            break;\n        } // this.echartHeight = 600 - (80 * rows);\n\n\n        _this.echartHeight = _this.$store.state.app.device == \"desktop\" ? 300 : mobileEchartHeight;\n        _this.tableHeight = _this.$store.state.app.device == \"desktop\" ? \"30%\" : mobileTableHeight;\n        var colorList = [\"#FFC0CB\", \"#DA70D6\", \"#6A5ACD\", \"#87CEFA\", \"#00FA9A\", \"#FFD700\", \"#FFA500\", \"#FFA07A\", \"#FF6347\", \"#B22222\", \"#1E90FF\", \"#F0E68C\", \"#FFEFD5\", \"#90EE90\", \"#A52A2A\", \"#7FFF00\", \"#008080\", \"#48D1CC\", \"#5F9EA0\", \"#C71585\", \"#B0C4DE\"];\n        var time = new Date().getHours();\n\n        for (var index = 0; index <= time; index++) {\n          _this.timeData.push(\"\".concat(index, \":00\"));\n        }\n\n        var lineChartdata = res.data; //获取数据\n\n        lineChartdata.forEach(function (item) {\n          var index = parseInt(Math.random() * 21);\n\n          _this.nameList.push(item.name);\n\n          var dataOjb = {\n            name: item.name,\n            type: \"line\",\n            barWidth: \"15%\",\n            showAllSymbol: true,\n            symbol: \"emptyCircle\",\n            symbolSize: 10,\n            //圆圈圈的大小\n            itemStyle: {\n              normal: {\n                width: 5,\n                color: colorList[index],\n                barBorderRadius: 11\n              }\n            },\n            // symbol:'none',//去掉点的\n            smooth: true,\n            //曲线变平滑的\n            lineStyle: {\n              normal: {\n                width: 3,\n                //折线的borderWidth 宽\n                shadowColor: \"rgba(73,140,252, 0.5)\",\n                shadowBlur: 10,\n                shadowOffsetY: 7\n              }\n            },\n            data: item.data\n          };\n\n          _this.dataList.push(dataOjb);\n        });\n        _this.chart = echarts.init(_this.$el); //创建实例\n\n        _this.setOptions(); //设置数据\n\n\n        window.onresize = _this.chart.resize; //自适应\n      });\n    },\n    setOptions: function setOptions() {\n      this.chart.setOption({\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: \"line\" // 默认为直线，可选为：'line' | 'shadow'\n\n          }\n        },\n        grid: {\n          left: \"2%\",\n          right: \"4%\",\n          bottom: \"4%\",\n          top: this.tableHeight,\n          height: this.echartHeight,\n          containLabel: true\n        },\n        legend: {\n          data: this.nameList,\n          right: 10,\n          top: 12,\n          textStyle: {\n            color: \"#2b3b60\"\n          },\n          itemWidth: 12,\n          itemHeight: 10 // itemGap: 35\n\n        },\n        xAxis: {\n          type: \"category\",\n          data: this.timeData,\n          axisLine: {\n            lineStyle: {\n              color: \"#d2d9e4\"\n            }\n          },\n          axisLabel: {\n            textStyle: {\n              fontFamily: \"Microsoft YaHei\",\n              color: \"#6175a2\"\n            }\n          }\n        },\n        yAxis: {\n          type: \"value\",\n          axisLine: {\n            show: false,\n            lineStyle: {\n              color: \"#6175a2\"\n            }\n          },\n          splitLine: {\n            show: true,\n            lineStyle: {\n              type: \"dashed\",\n              color: \"#d2d9e4\"\n            }\n          },\n          axisLabel: {}\n        },\n        series: this.dataList\n      });\n    }\n  }\n};\nexports.default = _default;",null]}