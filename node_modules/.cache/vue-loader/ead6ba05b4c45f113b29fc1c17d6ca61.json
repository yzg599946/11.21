{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\shaver-management\\timeslot.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\src\\views\\shaver-management\\timeslot.vue","mtime":1561977895891},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yet\\project\\longhuiteng_management_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport timeslotTable from \"@/components/timeslotTable\";\r\nimport { getTimeslotStatisticsShaver } from \"@/api/orderList\";\r\n\r\nexport default {\r\n  components: {\r\n    timeslotTable\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      searchButtonFlag: false,\r\n      searchButtonMobileFlag: false,\r\n      mobileSearchShowFlag: false\r\n    };\r\n  },\r\n  created() {\r\n    this.list = this.getTimeslotStatistics();\r\n  },\r\n  methods: {\r\n    getTimeslotStatistics() {\r\n      let orderList = [];\r\n      const contains = false;\r\n      const rows = 1000;\r\n      const page = 1;\r\n      getTimeslotStatisticsShaver({\r\n        contains: contains,\r\n        rows: rows,\r\n        page: page\r\n      }).then(res => {\r\n        const dataList = res.data.rows;\r\n        dataList.forEach(dataItem => {\r\n          const { timeCount, tNum } = dataItem;\r\n          const listItem = { timeslot: timeCount, orderCount: tNum };\r\n          orderList.push(listItem);\r\n        });\r\n      });\r\n      return orderList;\r\n    },\r\n    // 搜索\r\n    clickToSearch(data) {\r\n      let searchList = [];\r\n      const contains = false;\r\n      const rows = 1000;\r\n      const page = 1;\r\n      const { createTime, createTimeEnd, cid, uid, productId, cpName } = data;\r\n      let paramsObj = { contains: contains, rows: rows, page: page };\r\n      createTime ? (paramsObj.createTime = createTime) : \"\";\r\n      createTimeEnd ? (paramsObj.createTimeEnd = createTimeEnd) : \"\";\r\n      cid ? (paramsObj.cid = cid) : \"\";\r\n      productId ? (paramsObj.productId = productId) : \"\";\r\n      cpName ? (paramsObj.cpName = cpName) : \"\";\r\n      if (uid.length > 0) {\r\n        let uidStr = uid.join(\",\");\r\n        paramsObj.uids = uidStr;\r\n      }\r\n      this.paramsStorage = paramsObj;\r\n      getTimeslotStatisticsShaver(paramsObj)\r\n        .then(res => {\r\n          const tableData = res.data.rows;\r\n          tableData.forEach(tableItem => {\r\n            const { timeCount, tNum } = tableItem;\r\n            const orderItem = { timeslot: timeCount, orderCount: tNum };\r\n            searchList.push(orderItem);\r\n          });\r\n          this.list = searchList;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    clickToMobileSearchPage() {\r\n      this.mobileSearchShowFlag = true;\r\n    },\r\n    clickToCloseMobileSearchPage() {\r\n      this.mobileSearchShowFlag = false;\r\n    },\r\n    // 移动端搜索\r\n    clickToMobileSearch(data) {\r\n      this.searchButtonMobileFlag = true;\r\n      let searchList = [];\r\n      const contains = false;\r\n      const rows = 1000;\r\n      const page = 1;\r\n      const { createTime, createTimeEnd, cid, uids, productId } = data;\r\n      let paramsObj = { contains: contains, rows: rows, page: page };\r\n      createTime ? (paramsObj.createTime = createTime) : \"\";\r\n      createTimeEnd ? (paramsObj.createTimeEnd = createTimeEnd) : \"\";\r\n      cid ? (paramsObj.cid = cid) : \"\";\r\n      productId ? paramsObj.productId : \"\";\r\n      if (uids.length > 0) {\r\n        let uidStr = uids.join(\",\");\r\n        paramsObj.uids = uidStr;\r\n      }\r\n      this.paramsStorage = paramsObj;\r\n      getTimeslotStatisticsShaver(paramsObj)\r\n        .then(res => {\r\n          const tableData = res.data.rows;\r\n         tableData.forEach(tableItem => {\r\n            const { timeCount, tNum } = tableItem;\r\n            const orderItem = { timeslot: timeCount, orderCount: tNum };\r\n            searchList.push(orderItem);\r\n          });\r\n          this.list = searchList;\r\n          this.searchButtonMobileFlag = false;\r\n          this.mobileSearchShowFlag = false;\r\n        })\r\n        .catch(error => {\r\n          this.searchButtonMobileFlag = false;\r\n          this.mobileSearchShowFlag = false;\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n};\r\n",null]}