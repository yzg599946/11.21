(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38ad005b"],{"28a5":function(e,t,a){"use strict";var n=a("aae3"),i=a("cb7c"),o=a("ebd6"),r=a("0390"),l=a("9def"),c=a("5f1b"),u=a("520a"),s=a("79e5"),d=Math.min,h=[].push,m="split",p="length",b="lastIndex",f=4294967295,g=!s(function(){RegExp(f,"y")});a("214f")("split",2,function(e,t,a,s){var v;return v="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[p]||2!="ab"[m](/(?:ab)*/)[p]||4!="."[m](/(.?)(.?)/)[p]||"."[m](/()()/)[p]>1||""[m](/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(i,e,t);var o,r,l,c=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=void 0===t?f:t>>>0,g=new RegExp(e.source,s+"g");while(o=u.call(g,i)){if(r=g[b],r>d&&(c.push(i.slice(d,o.index)),o[p]>1&&o.index<i[p]&&h.apply(c,o.slice(1)),l=o[0][p],d=r,c[p]>=m))break;g[b]===o.index&&g[b]++}return d===i[p]?!l&&g.test("")||c.push(""):c.push(i.slice(d)),c[p]>m?c.slice(0,m):c}:"0"[m](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,n){var i=e(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,i,n):v.call(String(i),a,n)},function(e,t){var n=s(v,e,this,t,v!==a);if(n.done)return n.value;var u=i(e),h=String(this),m=o(u,RegExp),p=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),S=new m(g?u:"^(?:"+u.source+")",b),O=void 0===t?f:t>>>0;if(0===O)return[];if(0===h.length)return null===c(S,h)?[h]:[];var k=0,j=0,P=[];while(j<h.length){S.lastIndex=g?j:0;var w,V=c(S,g?h:h.slice(j));if(null===V||(w=d(l(S.lastIndex+(g?0:j)),h.length))===k)j=r(h,j,p);else{if(P.push(h.slice(k,j)),P.length===O)return P;for(var C=1;C<=V.length-1;C++)if(P.push(V[C]),P.length===O)return P;j=k=w}}return P.push(h.slice(k)),P}]})},"319d":function(e,t,a){"use strict";var n=a("5d1d"),i=a.n(n);i.a},"5d1d":function(e,t,a){},"89d3":function(e,t,a){"use strict";a.d(t,"eb",function(){return i}),a.d(t,"fb",function(){return o}),a.d(t,"z",function(){return r}),a.d(t,"G",function(){return l}),a.d(t,"ub",function(){return c}),a.d(t,"A",function(){return u}),a.d(t,"cb",function(){return s}),a.d(t,"db",function(){return d}),a.d(t,"gb",function(){return h}),a.d(t,"lb",function(){return m}),a.d(t,"S",function(){return p}),a.d(t,"ib",function(){return b}),a.d(t,"V",function(){return f}),a.d(t,"jb",function(){return g}),a.d(t,"T",function(){return v}),a.d(t,"nb",function(){return S}),a.d(t,"mb",function(){return O}),a.d(t,"Bb",function(){return k}),a.d(t,"H",function(){return j}),a.d(t,"B",function(){return P}),a.d(t,"E",function(){return w}),a.d(t,"pb",function(){return V}),a.d(t,"ob",function(){return C}),a.d(t,"hb",function(){return y}),a.d(t,"Ab",function(){return x}),a.d(t,"J",function(){return M}),a.d(t,"D",function(){return D}),a.d(t,"C",function(){return _}),a.d(t,"R",function(){return L}),a.d(t,"a",function(){return E}),a.d(t,"L",function(){return T}),a.d(t,"b",function(){return z}),a.d(t,"Db",function(){return I}),a.d(t,"l",function(){return N}),a.d(t,"r",function(){return B}),a.d(t,"M",function(){return J}),a.d(t,"c",function(){return H}),a.d(t,"Eb",function(){return R}),a.d(t,"m",function(){return A}),a.d(t,"s",function(){return F}),a.d(t,"Q",function(){return W}),a.d(t,"f",function(){return $}),a.d(t,"Ib",function(){return Y}),a.d(t,"p",function(){return G}),a.d(t,"v",function(){return q}),a.d(t,"O",function(){return K}),a.d(t,"N",function(){return U}),a.d(t,"P",function(){return Q}),a.d(t,"Y",function(){return X}),a.d(t,"U",function(){return Z}),a.d(t,"k",function(){return ee}),a.d(t,"qb",function(){return te}),a.d(t,"y",function(){return ae}),a.d(t,"x",function(){return ne}),a.d(t,"j",function(){return ie}),a.d(t,"i",function(){return oe}),a.d(t,"Mb",function(){return re}),a.d(t,"Lb",function(){return le}),a.d(t,"kb",function(){return ce}),a.d(t,"h",function(){return ue}),a.d(t,"g",function(){return se}),a.d(t,"Kb",function(){return de}),a.d(t,"Jb",function(){return he}),a.d(t,"q",function(){return me}),a.d(t,"w",function(){return pe}),a.d(t,"Z",function(){return be}),a.d(t,"Gb",function(){return fe}),a.d(t,"Hb",function(){return ge}),a.d(t,"e",function(){return ve}),a.d(t,"o",function(){return Se}),a.d(t,"u",function(){return Oe}),a.d(t,"yb",function(){return ke}),a.d(t,"zb",function(){return je}),a.d(t,"K",function(){return Pe}),a.d(t,"bb",function(){return we}),a.d(t,"vb",function(){return Ve}),a.d(t,"ab",function(){return Ce}),a.d(t,"W",function(){return ye}),a.d(t,"d",function(){return xe}),a.d(t,"Fb",function(){return Me}),a.d(t,"n",function(){return De}),a.d(t,"t",function(){return _e}),a.d(t,"tb",function(){return Le}),a.d(t,"X",function(){return Ee}),a.d(t,"F",function(){return Te}),a.d(t,"I",function(){return ze}),a.d(t,"wb",function(){return Ie}),a.d(t,"xb",function(){return Ne}),a.d(t,"rb",function(){return Be}),a.d(t,"sb",function(){return Je}),a.d(t,"Cb",function(){return He});var n=a("b775");function i(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/order"),method:"post",data:t})}function o(e,t){return Object(n["a"])({url:"/page/admin/".concat(e,"/order/update"),method:"get",params:t})}function r(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/order/update"),method:"post",data:t})}function l(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/outExcel"),method:"post",data:t,responseType:"blob"})}function c(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/jd/import"),method:"post",data:t})}function u(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/mode"),method:"post",data:t})}function s(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/region"),method:"post",data:t})}function d(e,t){return Object(n["a"])({url:"admin/".concat(e,"/channel"),method:"post",data:t})}function h(e,t){return Object(n["a"])({url:"admin/".concat(e,"/time"),method:"post",data:t})}function m(e){return Object(n["a"])({url:"/admin/user/idAndName",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/admin/composite/channel/parent",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/admin/composite/product/list",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/admin/composite/color/list",method:"post",data:e})}function g(e,t){return Object(n["a"])({url:"/admin/composite/product/".concat(t,"/list"),method:"post",data:e})}function v(e,t){return Object(n["a"])({url:"/admin/composite/channel/".concat(t,"/parent"),method:"post",data:e})}function S(e){return Object(n["a"])({url:"/admin/tencent/order",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/page/admin/tencent/order/update",method:"get",params:e})}function k(e){return Object(n["a"])({url:"/admin/tencent/update/pageInfo",method:"post",data:e})}function j(e,t){return Object(n["a"])({url:"/admin/tencent/".concat(e,"/outExcel"),method:"post",data:t,responseType:"blob"})}function P(e){return Object(n["a"])({url:"/admin/tencent/order/update",method:"post",data:e})}function w(e){return Object(n["a"])({url:"/admin/tencent/mode",method:"post",data:e})}function V(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/order"),method:"post",data:t})}function C(e,t){return Object(n["a"])({url:"/page/admin/".concat(e,"/order/update"),method:"get",params:t})}function y(e){return Object(n["a"])({url:"/admin/user/tt/pageInfo",method:"post",data:e})}function x(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/update/pageInfo"),method:"post",data:t})}function M(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/outExcel"),method:"post",data:t,responseType:"blob"})}function D(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/mode"),method:"post",data:t})}function _(e,t){return Object(n["a"])({url:"/admin/".concat(e,"/order/update"),method:"post",data:t})}function L(e){return Object(n["a"])({url:"/admin/composite/bdpage/list",method:"post",data:e})}function E(e){return Object(n["a"])({url:"/admin/composite/bdpage/insert",method:"post",data:e})}function T(e){return Object(n["a"])({url:"/admin/composite/channel",method:"post",data:e})}function z(e){return Object(n["a"])({url:"/admin/composite/channel/insert",method:"post",data:e})}function I(e){return Object(n["a"])({url:"/admin/composite/channel/update",method:"post",data:e})}function N(e){return Object(n["a"])({url:"/admin/composite/channel/delete",method:"post",data:e})}function B(e){return Object(n["a"])({url:"/admin/composite/channel/deleteBatch",method:"post",data:e})}function J(e){return Object(n["a"])({url:"/admin/composite/color",method:"post",data:e})}function H(e){return Object(n["a"])({url:"/admin/composite/color/insert",method:"post",data:e})}function R(e){return Object(n["a"])({url:"/admin/composite/color/update",method:"post",data:e})}function A(e){return Object(n["a"])({url:"/admin/composite/color/delete",method:"post",data:e})}function F(e){return Object(n["a"])({url:"/composite/color/deleteBatch",method:"post",data:e})}function W(e){return Object(n["a"])({url:"/admin/composite/product",method:"post",data:e})}function $(e){return Object(n["a"])({url:"/admin/composite/product/insert",method:"post",data:e})}function Y(e){return Object(n["a"])({url:"/admin/composite/product/update",method:"post",data:e})}function G(e){return Object(n["a"])({url:"/admin/composite/product/delete",method:"post",data:e})}function q(e){return Object(n["a"])({url:"/admin/composite/product/deleteBatch",method:"post",data:e})}function K(e){return Object(n["a"])({url:"/admin/order/list",method:"post",data:e})}function U(e){return Object(n["a"])({url:"/admin/order/channel",method:"post",data:e})}function Q(e){return Object(n["a"])({url:"/admin/order/time",method:"post",data:e})}function X(e){return Object(n["a"])({url:"/admin/system/user/loginLog",method:"post",data:e})}function Z(e){return Object(n["a"])({url:"/admin/checkLoginList",method:"post",data:e})}function ee(e){return Object(n["a"])({url:"/admin/confirmLogin",method:"post",data:e})}function te(e){return Object(n["a"])({url:"/admin/system/user",method:"post",data:e})}function ae(e){return Object(n["a"])({url:"/admin/system/user/delete",method:"post",data:e})}function ne(e){return Object(n["a"])({url:"/admin/system/user/deleteBatch",method:"post",data:e})}function ie(){return Object(n["a"])({url:"/page/admin/system/user/insert",method:"get"})}function oe(e){return Object(n["a"])({url:"/admin/system/user/insert",method:"post",data:e})}function re(e){return Object(n["a"])({url:"/page/admin/system/user/update",method:"get",params:e})}function le(e){return Object(n["a"])({url:"/admin/system/user/update",method:"post",data:e})}function ce(e){return Object(n["a"])({url:"/admin/system/role",method:"post",data:e})}function ue(e){return Object(n["a"])({url:"/page/admin/system/role/insert",method:"get",params:e})}function se(e){return Object(n["a"])({url:"/admin/system/role/insert",method:"post",data:e})}function de(e){return Object(n["a"])({url:"/page/admin/system/role/update",method:"get",params:e})}function he(e){return Object(n["a"])({url:"/admin/system/role/update",method:"post",data:e})}function me(e){return Object(n["a"])({url:"/admin/system/role/delete",method:"post",data:e})}function pe(e){return Object(n["a"])({url:"/admin/system/role/deleteBatch",method:"post",data:e})}function be(e){return Object(n["a"])({url:"/admin/system/menu",method:"post",data:e})}function fe(e){return Object(n["a"])({url:"/admin/system/menu/edit",method:"post",data:e})}function ge(){return Object(n["a"])({url:"/admin/system/menu/parent",method:"post"})}function ve(e){return Object(n["a"])({url:"/admin/system/menu/insert",method:"post",data:e})}function Se(e){return Object(n["a"])({url:"/admin/system/menu/delete",method:"post",data:e})}function Oe(e){return Object(n["a"])({url:"/admin/system/menu/deleteBatch",method:"post",data:e})}function ke(e){return Object(n["a"])({url:"/admin/system/menu/move/down",method:"get",params:e})}function je(e){return Object(n["a"])({url:"/admin/system/menu/move/up",method:"get",params:e})}function Pe(e){return Object(n["a"])({url:"/admin/system/menu/generate",method:"post",data:e})}function we(e){return Object(n["a"])({url:"/admin/monitorProduct/list",method:"post",data:e,baseURL:"http://120.79.232.97"})}function Ve(e){return Object(n["a"])({url:"/admin/monitorProduct/url",method:"post",data:e})}function Ce(e){return Object(n["a"])({url:"/admin/system/menu/tree",method:"post",data:e})}function ye(e,t){return Object(n["a"])({url:"/admin/system/function".concat(t),method:"post",data:e})}function xe(e){return Object(n["a"])({url:"/admin/system/function/insert",method:"post",data:e})}function Me(e){return Object(n["a"])({url:"/admin/system/function/update",method:"post",data:e})}function De(e){return Object(n["a"])({url:"/admin/system/function/delete",method:"get",params:e})}function _e(e){return Object(n["a"])({url:"/admin/system/function/deleteBatch",method:"post",data:e})}function Le(e){return Object(n["a"])({url:"/admin/logistics/yd",method:"post",data:e})}function Ee(e){return Object(n["a"])({url:"/admin/logistics/jd",method:"post",data:e})}function Te(e,t){return Object(n["a"])({url:"/admin/logistics/".concat(t,"/export"),method:"post",data:e,responseType:"blob"})}function ze(e,t){return Object(n["a"])({url:"/admin/logistics/".concat(t,"/tt/export"),method:"post",data:e,responseType:"blob"})}function Ie(e,t){return Object(n["a"])({url:"/admin/logistics/".concat(t,"/signed"),method:"post",data:e})}function Ne(e,t){return Object(n["a"])({url:"/admin/logistics/".concat(t,"/logBatch"),method:"post",data:e})}function Be(e){return Object(n["a"])({url:"/admin/weChatMini/payList",method:"post",data:e})}function Je(e){return Object(n["a"])({url:"/admin/weChatMini/user/list",method:"post",data:e})}function He(e){return Object(n["a"])({url:"/page/admin/weChatMini/user/message",method:"post",data:e})}},bb74:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},["mobile"!=e.device?a("div",{ref:"filterBox",staticClass:"filter-container"},[a("el-date-picker",{attrs:{size:"mini",type:"daterange","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.timeSelectValue,callback:function(t){e.timeSelectValue=t},expression:"timeSelectValue"}}),e._v(" "),a("el-select",{style:e.salemanWidth,attrs:{multiple:"",size:"mini",clearable:"",filterable:"",placeholder:"业务员"},on:{change:e.salemanChange},model:{value:e.salemanValue,callback:function(t){e.salemanValue=t},expression:"salemanValue"}},e._l(e.salemanOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-select",{staticClass:"table-input",attrs:{size:"mini",clearable:"",filterable:"",placeholder:"产品"},model:{value:e.productValue,callback:function(t){e.productValue=t},expression:"productValue"}},e._l(e.productOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-select",{staticClass:"table-input",attrs:{size:"mini",clearable:"",filterable:"",placeholder:"渠道项目"},model:{value:e.channelValue,callback:function(t){e.channelValue=t},expression:"channelValue"}},e._l(e.channelOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-input",{staticClass:"table-input",attrs:{size:"mini",placeholder:"素材",clearable:""},model:{value:e.cpName,callback:function(t){e.cpName=t},expression:"cpName"}}),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search",loading:e.searchButtonLoading},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-close",loading:e.clearSearchButtonLoading},on:{click:e.handleClearSearch}},[e._v("清空")])],1):a("div",{staticClass:"filter-mobile"},[a("van-button",{attrs:{type:"info",size:"small"},on:{click:e.handleSearchMobile}},[e._v("搜索")]),e._v(" "),a("van-button",{attrs:{type:"info",size:"small"},on:{click:e.handleRefreshMobile}},[e._v("刷新")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{size:"mini",border:"",fit:"",data:e.list,"show-summary":"","summary-method":e.getSummaries,"max-height":e.tableMaxHeight,"default-sort":{prop:"pNum",order:""}},on:{"cell-click":e.handleTimeSlot}},[a("el-table-column",{attrs:{width:"50",align:"center"}},[[a("i",{staticClass:"el-icon-plus cursor-pointer"})]],2),e._v(" "),a("el-table-column",{attrs:{label:"渠道项目",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.cpName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"pNum",label:"订单数",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.pNum))])]}}])})],1),e._v(" "),"mobile"!=e.device?a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:23}},[a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.listTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-refresh"},on:{click:e.handleRefresh}},[e._v("刷新")])],1)],1):a("div",{staticClass:"mobile-pagination"},[a("div",{staticClass:"mobile-pagejump"},[a("span",{staticClass:"pagejump-count"},[e._v("共"+e._s(e.listTotal)+"条")]),e._v(" "),a("van-field",{staticStyle:{width:"60%!important"},attrs:{"label-width":"50",center:"",label:"跳转至","input-align":"center"},on:{input:e.jumpPageInput},model:{value:e.pageJumpIndex,callback:function(t){e.pageJumpIndex=t},expression:"pageJumpIndex"}},[a("van-button",{attrs:{slot:"button",size:"mini",type:"info"},on:{click:e.handleJumpPage},slot:"button"},[e._v("GO")])],1)],1),e._v(" "),a("van-pagination",{attrs:{"total-items":e.listTotal,"items-per-page":e.pagesize,"show-page-size":3,"force-ellipses":""},on:{change:e.handlePageChange},model:{value:e.mobileCurrentPage,callback:function(t){e.mobileCurrentPage=t},expression:"mobileCurrentPage"}})],1),e._v(" "),a("el-dialog",{attrs:{size:"mini",title:e.channelTitle,visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.detailListLoading,expression:"detailListLoading"}],attrs:{"max-height":e.tableMaxHeight-200,size:"mini",data:e.gridData}},[a("el-table-column",{attrs:{property:"timeslot",label:"时段",width:"400",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"orderCount",label:"订单数",width:"400",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"search-container"},[a("van-popup",{attrs:{position:"right"},model:{value:e.mobileDetailShow,callback:function(t){e.mobileDetailShow=t},expression:"mobileDetailShow"}},[a("div",{staticStyle:{height:"100vh",width:"100vw"}},[a("van-nav-bar",{attrs:{title:e.channelTitle,"left-text":"返回","left-arrow":""},on:{"click-left":e.handleDetailCancel}}),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{title:"时段",value:"订单数"}}),e._v(" "),e.timeslotLoading?a("van-loading",{attrs:{size:"24px",vertical:""}},[e._v("加载中...")]):e._e(),e._v(" "),e._l(e.gridData,function(e){return a("van-cell",{key:e.timeslot,attrs:{title:e.timeslot,value:e.orderCount}})})],2)],1)])],1),e._v(" "),a("div",{staticClass:"search-container"},[a("van-popup",{attrs:{position:"right"},model:{value:e.mobileSearchShow,callback:function(t){e.mobileSearchShow=t},expression:"mobileSearchShow"}},[a("div",{staticStyle:{height:"100vh",width:"100vw"}},[a("van-nav-bar",{attrs:{title:"搜索","left-text":"返回","right-text":"清空","left-arrow":""},on:{"click-left":e.handleSearchMobileCancel,"click-right":e.handleSearchMobileClearAll}}),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{title:"开始日期","is-link":"",value:e.timePickerStartValue},on:{click:e.handleChooseDateStartMobile}}),e._v(" "),a("van-cell",{attrs:{title:"结束日期","is-link":"",value:e.timePickerEndValue},on:{click:e.handleChooseDateEndMobile}}),e._v(" "),a("van-cell",{attrs:{title:"业务员","is-link":"",value:e.salesmanMobileValue},on:{click:e.handleChooseSalesman}}),e._v(" "),a("van-cell",{attrs:{title:"渠道项目","is-link":"",value:e.channelMobileValue},on:{click:e.handleChooseChannel}}),e._v(" "),a("van-cell",{attrs:{title:"产品","is-link":"",value:e.productMobileValue},on:{click:e.handleChooseProduct}})],1),e._v(" "),a("div",{staticClass:"mobile-search"},[a("van-button",{attrs:{type:"info",loading:e.mobileSearchButtonLoading,disabled:e.mobileSearchButtonLoading,size:"large"},on:{click:e.handleMobileSearch}},[e._v("搜索")])],1)],1)]),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.mobileDatePickerShow,callback:function(t){e.mobileDatePickerShow=t},expression:"mobileDatePickerShow"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":"start"==e.datetimePickerType?e.minDate:e.minDateEnd,"max-date":"end"==e.datetimePickerType?e.maxDate:e.maxDateStart},on:{change:e.datetimePickerChange,confirm:e.datetimePickerConfirm,cancel:e.datetimePickerCancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.mobileSalesmanPickerShow,callback:function(t){e.mobileSalesmanPickerShow=t},expression:"mobileSalesmanPickerShow"}},[a("van-search",{attrs:{clearable:"","show-action":"",placeholder:"请输入搜索关键词",list:"salesmanIde"},model:{value:e.salesmanSearchValue,callback:function(t){e.salesmanSearchValue=t},expression:"salesmanSearchValue"}},[a("div",{attrs:{slot:"action"},on:{click:e.handleSearchSalesmanItem},slot:"action"},[e._v("搜索")])]),e._v(" "),a("datalist",{attrs:{id:"salesmanIde"}},e._l(e.salemanOptions,function(e){return a("option",{key:e.value,domProps:{value:e.label}})}),0),e._v(" "),a("van-picker",{attrs:{"show-toolbar":"","default-index":e.salesPickerCurrentSelect,columns:e.salesmanColumns},on:{cancel:function(t){e.mobileSalesmanPickerShow=!1},confirm:e.salesmanPickerConfirm}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.mobileChannelPickerShow,callback:function(t){e.mobileChannelPickerShow=t},expression:"mobileChannelPickerShow"}},[a("van-search",{attrs:{clearable:"","show-action":"",placeholder:"请输入搜索关键词",list:"channelIde"},model:{value:e.channelSearchValue,callback:function(t){e.channelSearchValue=t},expression:"channelSearchValue"}},[a("div",{attrs:{slot:"action"},on:{click:e.handleSearchChannelItem},slot:"action"},[e._v("搜索")])]),e._v(" "),a("datalist",{attrs:{id:"channelIde"}},e._l(e.channelOptions,function(e){return a("option",{key:e.value,domProps:{value:e.label}})}),0),e._v(" "),a("van-picker",{attrs:{"show-toolbar":"","default-index":e.channelPickerCurrentSelect,columns:e.channelColumns},on:{cancel:function(t){e.mobileChannelPickerShow=!1},confirm:e.channelPickerConfirm}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.mobileProductPickerShow,callback:function(t){e.mobileProductPickerShow=t},expression:"mobileProductPickerShow"}},[a("van-search",{attrs:{clearable:"","show-action":"",placeholder:"请输入搜索关键词",list:"productIde"},model:{value:e.productSearchValue,callback:function(t){e.productSearchValue=t},expression:"productSearchValue"}},[a("div",{attrs:{slot:"action"},on:{click:e.handleSearchProductItem},slot:"action"},[e._v("搜索")])]),e._v(" "),a("datalist",{attrs:{id:"productIde"}},e._l(e.productOptions,function(e){return a("option",{key:e.value,domProps:{value:e.label}})}),0),e._v(" "),a("van-picker",{attrs:{"show-toolbar":"","default-index":e.productPickerCurrentSelect,columns:e.productColumns},on:{cancel:function(t){e.mobileProductPickerShow=!1},confirm:e.productPickerConfirm}})],1)],1)],1)},i=[],o=(a("c5f6"),a("28a5"),a("a481"),a("ac6a"),a("bd86")),r=(a("68ef"),a("543e")),l=(a("5852"),a("d961")),c=(a("2cbd"),a("ab2c")),u=(a("e7e5"),a("d3994")),s=(a("c3a6"),a("ad06")),d=(a("be7f"),a("565f")),h=(a("5f5f"),a("f253")),m=(a("d1cf"),a("ee83")),p=(a("0653"),a("34e9")),b=(a("c194"),a("7744")),f=(a("5246"),a("6b41")),g=(a("8a58"),a("e41f")),v=(a("66b9"),a("b650")),S=(a("6a39"),a("f240")),O=a("2b0e"),k=a("da6f"),j=a("89d3");O["default"].use(S["a"]),O["default"].use(v["a"]),O["default"].use(g["a"]),O["default"].use(f["a"]),O["default"].use(b["a"]),O["default"].use(p["a"]),O["default"].use(m["a"]),O["default"].use(h["a"]),O["default"].use(d["a"]),O["default"].use(s["a"]),O["default"].use(u["a"]),O["default"].use(c["a"]),O["default"].use(l["a"]),O["default"].use(r["a"]);var P={name:"order-channel",data:function(){var e;return e={list:[],pickerOptions:{shortcuts:[{text:"上月",onClick:function(e){var t=new Date((new Date).getFullYear(),(new Date).getMonth()-1,1),a=new Date((new Date).getFullYear(),(new Date).getMonth()-1,new Date((new Date).getFullYear(),(new Date).getMonth(),0).getDate());e.$emit("pick",[t,a])}}]},productOptions:[],productColumns:[],channelOptions:[],channelColumns:[]},Object(o["a"])(e,"channelColumns",[]),Object(o["a"])(e,"salemanOptions",[]),Object(o["a"])(e,"salesmanColumns",[]),Object(o["a"])(e,"gridData",[]),Object(o["a"])(e,"salemanValue",""),Object(o["a"])(e,"timeSelectValue",""),Object(o["a"])(e,"channelValue",""),Object(o["a"])(e,"productValue",""),Object(o["a"])(e,"formLabelWidth","120px"),Object(o["a"])(e,"dialogTableVisible",!1),Object(o["a"])(e,"channelTitle",""),Object(o["a"])(e,"currentPage",1),Object(o["a"])(e,"mobileCurrentPage",1),Object(o["a"])(e,"pagesizes",[20,40,60,80,100]),Object(o["a"])(e,"pagesize",20),Object(o["a"])(e,"listTotal",0),Object(o["a"])(e,"listLoading",!1),Object(o["a"])(e,"device",""),Object(o["a"])(e,"mobileSearchShow",!1),Object(o["a"])(e,"mobileDatePickerShow",!1),Object(o["a"])(e,"mobileSalesmanPickerShow",!1),Object(o["a"])(e,"mobileChannelPickerShow",!1),Object(o["a"])(e,"mobileProductPickerShow",!1),Object(o["a"])(e,"minDate",new Date(1950,10,1)),Object(o["a"])(e,"maxDate",new Date),Object(o["a"])(e,"currentDate",new Date),Object(o["a"])(e,"minDateEnd",new Date),Object(o["a"])(e,"maxDateStart",new Date),Object(o["a"])(e,"datetimePickerType",""),Object(o["a"])(e,"timePickerStartValue","请选择"),Object(o["a"])(e,"timePickerEndValue","请选择"),Object(o["a"])(e,"salesmanMobileValue","请选择"),Object(o["a"])(e,"channelMobileValue","请选择"),Object(o["a"])(e,"productMobileValue","请选择"),Object(o["a"])(e,"mobileDetailShow",!1),Object(o["a"])(e,"salesPickerCurrentSelect",0),Object(o["a"])(e,"channelPickerCurrentSelect",0),Object(o["a"])(e,"productPickerCurrentSelect",0),Object(o["a"])(e,"salesmanSearchValue",""),Object(o["a"])(e,"channelSearchValue",""),Object(o["a"])(e,"productSearchValue",""),Object(o["a"])(e,"cpName",""),Object(o["a"])(e,"mobileSearchButtonLoading",!1),Object(o["a"])(e,"searchButtonLoading",!1),Object(o["a"])(e,"clearSearchButtonLoading",!1),Object(o["a"])(e,"salemanWidth",""),Object(o["a"])(e,"pageJumpIndex",1),Object(o["a"])(e,"contains",!1),Object(o["a"])(e,"tableMaxHeight",0),Object(o["a"])(e,"timeslotLoading",!0),Object(o["a"])(e,"detailListLoading",!1),Object(o["a"])(e,"orderType",""),e},created:function(){this.getList(),this.getSalesman(),this.getChannel(),this.getProduct(),this.getHeight(),this.device=this.$store.state.app.device,window.addEventListener("resize",this.getHeight)},destroyed:function(){window.removeEventListener("resize",this.getHeight)},computed:{deviceVal:function(){return this.$store.state.app.device}},watch:{deviceVal:function(e,t){this.device=e}},methods:{getList:function(){var e=this;this.listLoading=!0,null==this.timeSelectValue?this.timeSelectValue=["",""]:""!=this.timeSelectValue||this.timeSelectValue;var t={contains:this.contains,rows:this.pagesize,page:this.currentPage};this.timeSelectValue[0]&&(t.createTime=this.timeSelectValue[0]),this.timeSelectValue[1]&&(t.createTimeEnd=this.timeSelectValue[1]),this.channelValue&&(t.cid=this.channelValue),this.productValue&&(t.productId=this.productValue),this.cpName&&(t.cpName=this.cpName),this.salemanValue.length>0&&(t.uids=this.salemanValue.join(",")),""!=this.orderType&&(t.order=this.orderType,t.sort="pNum"),Object(j["N"])(t).then(function(t){e.listTotal=t.data.total,e.list=t.data.rows,e.listLoading=!1}).catch(function(t){e.listLoading=!1})},getSalesman:function(){var e=Object(k["a"])({name:"salesmanList"});this.salemanOptions=JSON.parse(e);var t=[];this.salemanOptions.forEach(function(e){t.push(e.label)}),this.salesmanColumns=t},getChannel:function(){var e=Object(k["a"])({name:"channelList"});this.channelOptions=JSON.parse(e);var t=[];this.channelOptions.forEach(function(e){t.push(e.label)}),this.channelColumns=t},getProduct:function(){var e=Object(k["a"])({name:"productList"});this.productOptions=JSON.parse(e);var t=[];this.productOptions.forEach(function(e){t.push(e.label)}),this.productColumns=t},salemanChange:function(){var e=178,t=65*this.salemanValue.length+97;this.salemanWidth=t>e?"width:"+t+"px":"width:"+e+"px"},handleClearSearch:function(){this.timeSelectValue="",this.salemanValue=[],this.productValue="",this.channelValue="",this.salemanChange()},handleSearch:function(){this.searchButtonLoading=!0,this.getList(),this.searchButtonLoading=!1},handleTimeSlot:function(e,t,a,n){var i=this;this.detailListLoading=!0,this.gridData=[],this.channelTitle=e.cpName;var o={cpName:this.channelTitle};if("desktop"==this.device)null==this.timeSelectValue?this.timeSelectValue=["",""]:""!=this.timeSelectValue||this.timeSelectValue,this.timeSelectValue[0]&&(o.createTime=this.timeSelectValue[0]),this.timeSelectValue[1]&&(o.createTimeEnd=this.timeSelectValue[1]),this.productValue&&(o.productId=this.productValue),this.salemanValue.length>0&&(o.uids=this.salemanValue.join(","));else{var r,l="",c="",u="",s=[];if(l="请选择"==this.timePickerStartValue?"":this.timePickerStartValue.replace(/\//g,"-"),c="请选择"==this.timePickerEndValue?"":this.timePickerEndValue.replace(/\//g,"-"),"请选择"!=this.productMobileValue?this.productOptions.forEach(function(e){e.label==i.productMobileValue&&(u=e.value)}):u="","请选择"!=this.salesmanMobileValue)this.salesmanMobileValue.length>1?(r=this.salesmanMobileValue.split(","),r.forEach(function(e){i.salemanOptions.forEach(function(t){e==t.label&&s.push(t.value)})})):this.salemanOptions.forEach(function(e){e.label==i.salesmanMobileValue&&s.push(e.value)});l&&(o.createTime=l),c&&(o.createTimeEnd=c),u&&o.productId,s.length>0&&(o.uids=s.join(","))}Object(j["P"])(o).then(function(e){var t=e.data.rows;t.forEach(function(e){var t=e.timeCount,a=e.tNum,n={timeslot:t,orderCount:a};i.gridData.push(n)}),i.detailListLoading=!1}),"mobile"==this.device?void 0==t.label&&(this.timeslotLoading=!1,this.mobileDetailShow=!0):void 0==t.label&&(this.dialogTableVisible=!0)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getHeight:function(){"desktop"===this.device?this.tableMaxHeight=document.body.offsetHeight-(200+this.$refs.filterBox.offsetHeight+40+18):this.tableMaxHeight=document.body.offsetHeight-278},handleRefresh:function(){this.getList()},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach(function(e,t){if(0!==t){var i=a.map(function(t){return Number(t[e.property])});2===t&&(n[t]=i.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0))}else n[t]="合计"}),n},getMobileList:function(){var e=this;this.listLoading=!0;var t,a=[],n={contains:this.contains,rows:this.pagesize,page:this.mobileCurrentPage};("请选择"!=this.timePickerStartValue&&(n.createTime=this.timePickerStartValue.replace(/\//g,"-")),"请选择"!=this.timePickerEndValue&&(n.createTimeEnd=this.timePickerEndValue.replace(/\//g,"-")),"请选择"!=this.productMobileValue&&this.productOptions.forEach(function(t){t.label==e.productMobileValue&&(n.productId=t.value)}),"请选择"!=this.channelMobileValue&&this.channelOptions.forEach(function(t){t.label==e.channelMobileValue&&(n.cid=t.value)}),"请选择"!=this.salesmanMobileValue)&&(this.salesmanMobileValue.length>1?(t=this.salesmanMobileValue.split(","),t.forEach(function(t){e.salemanOptions.forEach(function(e){t==e.label&&a.push(e.value)})})):this.salemanOptions.forEach(function(t){t.label==e.salesmanMobileValue&&a.push(t.value)}));a.length>0&&(n.uids=a.join(",")),""!=this.orderType&&(n.order=this.orderType,n.sort="pNum"),Object(j["N"])(n).then(function(t){e.listTotal=t.data.total,e.list=t.data.rows,e.listLoading=!1}).catch(function(t){e.listLoading=!1})},handleSearchMobile:function(){this.mobileSearchShow||(this.mobileSearchShow=!0)},handleSearchMobileCancel:function(){this.mobileSearchShow&&(this.mobileSearchShow=!1)},handleSearchMobileClearAll:function(){"请选择"==this.timePickerStartValue||(this.timePickerStartValue="请选择"),"请选择"==this.timePickerEndValue||(this.timePickerEndValue="请选择"),"请选择"==this.salesmanMobileValue||(this.salesmanMobileValue="请选择"),"请选择"==this.channelMobileValue||(this.channelMobileValue="请选择"),"请选择"!=this.productMobileValue&&(this.productMobileValue="请选择")},handleChooseDateStartMobile:function(){if(!this.mobileDatePickerShow){if("请选择"!=this.timePickerEndValue){var e=this.timePickerEndValue;e=e.replace(/-/g,"/");var t=new Date(e);this.maxDateStart=t}this.datetimePickerType="start",this.mobileDatePickerShow=!this.mobileDatePickerShow}},handleChooseDateEndMobile:function(){if(!this.mobileDatePickerShow){if("请选择"!=this.timePickerStartValue){var e=this.timePickerStartValue;e=e.replace(/-/g,"/");var t=new Date(e);this.minDateEnd=t}this.datetimePickerType="end",this.mobileDatePickerShow=!this.mobileDatePickerShow}},datetimePickerChange:function(e){},datetimePickerConfirm:function(e){this.mobileDatePickerShow&&("start"==this.datetimePickerType?this.timePickerStartValue=e.toLocaleDateString():this.timePickerEndValue=e.toLocaleDateString(),this.mobileDatePickerShow=!this.mobileDatePickerShow)},datetimePickerCancel:function(){this.mobileDatePickerShow=!this.mobileDatePickerShow},handleChooseSalesman:function(){this.mobileSalesmanPickerShow||(this.mobileSalesmanPickerShow=!this.mobileSalesmanPickerShow)},handleChooseChannel:function(){this.mobileChannelPickerShow||(this.mobileChannelPickerShow=!this.mobileChannelPickerShow)},handleChooseProduct:function(){this.mobileProductPickerShow||(this.mobileProductPickerShow=!this.mobileProductPickerShow)},salesmanPickerConfirm:function(e){if(this.mobileSalesmanPickerShow){if("请选择"==this.salesmanMobileValue)this.salesmanMobileValue=e;else if(-1!=this.salesmanMobileValue.indexOf(",")){var t=new Array;t=this.salesmanMobileValue.split(","),-1==t.indexOf(e)?this.salesmanMobileValue=this.salesmanMobileValue+","+e:Object(u["a"])("请勿重复选择")}else this.salesmanMobileValue!=e?this.salesmanMobileValue=this.salesmanMobileValue+","+e:Object(u["a"])("请勿重复选择");this.mobileSalesmanPickerShow=!this.mobileSalesmanPickerShow}},channelPickerConfirm:function(e){this.mobileChannelPickerShow&&(this.channelMobileValue=e,this.mobileChannelPickerShow=!this.mobileChannelPickerShow)},productPickerConfirm:function(e){this.mobileProductPickerShow&&(this.productMobileValue=e,this.mobileProductPickerShow=!this.mobileProductPickerShow)},handleSearchSalesmanItem:function(){this.salesPickerCurrentSelect=this.salesmanColumns.indexOf(this.salesmanSearchValue)},handleSearchChannelItem:function(){this.channelPickerCurrentSelect=this.channelColumns.indexOf(this.channelSearchValue)},handleSearchProductItem:function(){this.productPickerCurrentSelect=this.productColumns.indexOf(this.productSearchValue)},handleMobileSearch:function(){this.mobileSearchButtonLoading=!0,this.getMobileList(),this.mobileSearchButtonLoading=!1,this.mobileSearchShow=!1},handlePageChange:function(){this.getMobileList()},handleDetailCancel:function(){this.mobileDetailShow=!this.mobileDetailShow},jumpPageInput:function(){this.pageJumpIndex=this.pageJumpIndex.replace(/[^\d]/g,"")},handleJumpPage:function(){var e=parseInt(this.pageJumpIndex);e!=this.mobileCurrentPage&&(e>Math.ceil(this.listTotal/this.pagesize)&&(e=Math.ceil(this.listTotal/this.pagesize)),e<1&&(e=1),this.pageJumpIndex=e,this.mobileCurrentPage=e,this.getMobileList())},handleRefreshMobile:function(){this.getMobileList()}}},w=P,V=(a("319d"),a("2877")),C=Object(V["a"])(w,n,i,!1,null,"d22891bc",null);t["default"]=C.exports}}]);